!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Samsara=e():t.Samsara=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n;n=function(t,e,n){n.exports={Core:i(1),DOM:i(32),Events:i(39),Inputs:i(40),Layouts:i(50),Streams:i(58),Transitions:i(59),Polyfile:i(60)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={Engine:i(2),LayoutNode:i(8),SizeNode:i(17),Timer:i(20),Transform:i(21),Transitionable:i(22),View:i(26)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var o=i(3),r=i(4),s=i(5),a=i(6),u=i(7),c=0,h={};h.step=function(){for(;s.length;)s.shift()();o.set(o.STATES.UPDATE);for(var t=0;t<u.length;t++)u[t]();for(;r.length;)r.shift()();for(o.set(o.STATES.END);a.length;)a.shift()();o.set(o.STATES.START)},h.start=function p(){h.step(),c=window.requestAnimationFrame(p)},h.stop=function(){window.cancelAnimationFrame(c)},n.exports=h}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){var n={NONE:-1,START:0,UPDATE:1,END:2},o=n.START,r={};r.STATES=n,r.set=function(t){o=t},r.get=function(){return o},i.exports=r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){i.exports=[]}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){i.exports=[]}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){i.exports=[]}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){i.exports=[]}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.stream=r(t),s.setOutputHandler(this,this.stream)}function r(t){for(var e in t){var i=t[e];if("number"==typeof i||i instanceof Array){var n=new c(i);t[e]=n}}return u.merge(t)}var s=i(9),a=i(11),u=i(15),c=i(16);o.KEYS={transform:"transform",origin:"origin",align:"align",opacity:"opacity"},o.prototype.set=function(t){for(var e in t){var i=t[e],n=i instanceof a?i:new c(i);this.stream.addStream(e,n)}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(){r.apply(this,arguments),this.upstream=[],this.upstreamListeners={}}var r=i(10);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.setInputHandler=function(t,e){t.trigger=e.trigger.bind(e),t.subscribe=e.subscribe.bind(e),t.unsubscribe=e.unsubscribe.bind(e)},o.setOutputHandler=function(t,e){e.bindThis(t),t.emit=e.emit.bind(e),t.on=e.on.bind(e),t.off=e.off.bind(e)},o.setInputEvents=function(t,e,i){for(var n in e){var o=e[n],r="string"==typeof o?t[o]:o;r&&i.on(n,r.bind(t))}},o.prototype.on=function(t,e){if(r.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var i=this.trigger.bind(this,t);this.upstreamListeners[t]=i;for(var n=0;n<this.upstream.length;n++)this.upstream[n].on(t,i)}},o.prototype.subscribe=function(t){var e=this.upstream.indexOf(t);if(0>e){this.upstream.push(t);for(var i in this.upstreamListeners)t.on(i,this.upstreamListeners[i])}return t},o.prototype.unsubscribe=function(t){if(t){var e=this.upstream.indexOf(t);if(e>=0){this.upstream.splice(e,1);for(var i in this.upstreamListeners)t.off(i,this.upstreamListeners[i])}}else for(var n=0;n<this.upstream.length;n++)this.unsubscribe(this.upstream[n])},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){function n(){this.listeners={},this._owner=this}n.prototype.emit=function(t,e){if(e!==!1){var i=this.listeners[t];if(i)for(var n=0;n<i.length;n++)i[n].call(this._owner,e)}},n.prototype.trigger=n.prototype.emit,n.prototype.on=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},n.prototype.once=function(t,e){var i=function(){n.prototype.off.call(this,t,i),e.apply(this,arguments)}.bind(this);this.on(t,i)},n.prototype.off=function(t,e){if(!t)return void(this.listeners={});var i=this.listeners[t];if(void 0!==i)if(e){var n=i.indexOf(e);n>=0&&i.splice(n,1)}else this.listeners[t]=[]},n.prototype.bindThis=function(t){this._owner=t},i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(){r.call(this)}var r=i(9),s=i(12),a=i(13),u=i(14);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.map=function(t){var e=new o,i=new s(t);return e.subscribe(i).subscribe(this),e},o.prototype.filter=function(t){var e=new a(t),i=new o;return i.subscribe(e).subscribe(this),i},o.prototype.split=function(t){var e=new u(t),i=new o;return i.subscribe(e).subscribe(this),i},o.prototype.pluck=function(t){return this.map(function(e){return e[t]})},o.merge=function(){},o.lift=function(t,e){var i=e instanceof Array?this.merge(e):this.merge.apply(null,Array.prototype.splice.call(arguments,1)),n=new s(function(e){return t.apply(null,e)}),r=new o;return r.subscribe(n).subscribe(i),r},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this._mappingFunction=t}var r=i(9);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.emit=function(t,e){var i=this._mappingFunction(e);r.prototype.emit.call(this,t,i)},o.prototype.trigger=o.prototype.emit,n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this._condition=t}var r=i(9);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.emit=function(t,e){this._condition(e)&&r.prototype.emit.apply(this,arguments)},o.prototype.trigger=o.prototype.emit,n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this._splitter=t}var r=i(9);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.emit=function(t,e){var i=this._splitter.apply(this,arguments);i&&i.emit instanceof Function&&i.emit(t,e)},o.prototype.trigger=o.prototype.emit,n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){function e(e){var i=t&&t.start?t.start(e):e;i!==!1&&this.emit(l.START,i),a=!1}function i(e){var i=t&&t.update?t.update(e):e;i!==!1&&this.emit(l.UPDATE,i),f=!1}function n(e){var i=t&&t.end?t.end(e):e;i!==!1&&this.emit(l.END,i),d=!1}this._eventInput=new r,this._eventOutput=new r,r.setInputHandler(this,this._eventInput),r.setOutputHandler(this,this._eventOutput);var o=0,s=!1,a=!1,f=!1,d=!1;this._eventInput.on(l.START,function(t){return o++,a||s?!1:(a=!0,void u.push(e.bind(this,t)))}.bind(this)),this._eventInput.on(l.UPDATE,function(t){return s=!0,f?!1:(f=!0,void c.push(i.bind(this,t)))}.bind(this)),this._eventInput.on(l.END,function(t){return o--,s&&o>0?(i.call(this,t),!1):(s=!1,void(d||(d=!0,h.push(n.bind(this,t)))))}.bind(this)),this._eventInput.on(l.RESIZE,function(t){switch(p.get()){case p.STATES.START:this.trigger(l.START,t);break;case p.STATES.UPDATE:this.trigger(l.UPDATE,t);break;case p.STATES.END:this.trigger(l.END,t)}}.bind(this))}var r=i(9),s=i(12),a=i(11),u=i(5),c=i(4),h=i(6),p=i(3),l={START:"start",UPDATE:"update",END:"end",RESIZE:"resize"};o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.lift=a.lift,o.merge=function(t){var e=new o,i=t instanceof Array?[]:{};e.addStream=function(t,n){var o=function(t){return new s(function(e){return i[t]=e,i})}(t);e.subscribe(o).subscribe(n)};for(var n in t){var r=t[n];e.addStream(n,r)}return e},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this.value=t,void 0!==t&&this.set(t)}var r=i(11),s=i(5),a=i(6);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.get=function(){return this.value},o.prototype.set=function(t){var e=this;s.push(function(){e.value=t,e.emit("start",t),a.push(function(){e.emit("end",t)})})},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.stream=r(t),s.setOutputHandler(this,this.stream),this.stream._eventInput.on("start",function(t){this.stream.trigger("resize",t)}.bind(this)),this.stream._eventInput.on("update",function(t){this.stream.trigger("resize",t)}.bind(this)),this.stream._eventInput.on("end",function(t){this.stream.trigger("resize",t)}.bind(this))}function r(t){for(var e in t){var i=t[e];if("number"==typeof i||i instanceof Array){var n=new c(i);t[e]=n}}return u.merge(t)}var s=i(9),a=i(11),u=i(18),c=i(19);o.KEYS={size:"size",proportions:"proportions",margins:"margins",aspectRatio:"aspectRatio"},o.prototype.set=function(t){for(var e in t){var i=t[e],n=i instanceof a?i:new c(i);this.stream.addStream(e,n)}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){function e(e){var n=t&&t.resize?t.resize(e):e;this.emit(l.RESIZE,n),i=!1}var i=!1;this._eventInput=new a,this._eventOutput=new a,a.setInputHandler(this,this._eventInput),a.setOutputHandler(this,this._eventOutput),this._eventInput.on(l.RESIZE,function(t){if(!i){var n;switch(p.get()){case p.STATES.START:n=u;break;case p.STATES.UPDATE:n=c;break;case p.STATES.END:n=h}n.push(e.bind(this,t))}i=!0}.bind(this))}var r=i(11),s=i(12),a=i(9),u=i(5),c=i(4),h=i(6),p=i(3),l={RESIZE:"resize"};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.lift=r.lift,o.merge=function(t){var e=new o,i=t instanceof Array?[]:{};e.addStream=function(t,n){var o=function(t){return new s(function(e){return i[t]=e,i})}(t);e.subscribe(o).subscribe(n)};for(var n in t){var r=t[n];e.addStream(n,r)}return e},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this.value=t,void 0!==t&&this.set(t)}var r=i(11),s=i(5),a=i(6);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.get=function(){return this.value},o.prototype.set=function(t){var e=this;s.push(function(){e.value=t,e.emit("resize",t),a.push(function(){e.emit("resize",t)})})},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){return s.push(t),t}function r(t){var e=s.indexOf(t);-1!==e&&s.splice(e,1)}var s=i(7),a={},u=window.performance?function(){return window.performance.now()}:Date.now;a.setTimeout=function(t,e){var i=u(),n=function(){var o=u();o-i>=e&&(t.apply(this,arguments),a.clear(n))};return o(n)},a.setInterval=function(t,e){var i=u(),n=function(){var n=u();n-i>=e&&(t.apply(this,arguments),i=u())};return o(n)},a.after=function(t,e){if(void 0!==e){var i=function(){e--,0>=e&&(t.apply(this,arguments),a.clear(i))};return o(i)}},a.every=function(t,e){e=e||1;var i=e,n=function(){e--,0>=e&&(t.apply(this,arguments),e=i)};return o(n)},a.clear=function(t){r(t)},a.debounce=function(t,e){var i;return function(){var n=arguments,o=function(){a.clear(i),i=null,t.apply(this,n)}.bind(this);i&&a.clear(i),i=a.setTimeout(o,e)}},a.frameDebounce=function(t,e){var i;return function(){var n=arguments,o=function(){i=null,t.apply(this,n)}.bind(this);i&&a.clear(i),i=a.after(o,e)}},n.exports=a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){function n(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function o(t){return Math.sqrt(n(t))}function r(t){return 0>t?-1:1}var s={};s.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,1.001,1],s.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-1.001,1],s.compose=function(t,e){return t===s.identity?e.slice():e===s.identity?t.slice():[t[0]*e[0]+t[4]*e[1]+t[8]*e[2],t[1]*e[0]+t[5]*e[1]+t[9]*e[2],t[2]*e[0]+t[6]*e[1]+t[10]*e[2],0,t[0]*e[4]+t[4]*e[5]+t[8]*e[6],t[1]*e[4]+t[5]*e[5]+t[9]*e[6],t[2]*e[4]+t[6]*e[5]+t[10]*e[6],0,t[0]*e[8]+t[4]*e[9]+t[8]*e[10],t[1]*e[8]+t[5]*e[9]+t[9]*e[10],t[2]*e[8]+t[6]*e[9]+t[10]*e[10],0,t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14],1]},s.composeMany=function(){if(arguments.length>2){var t=arguments[0],e=arguments[1];return Array.prototype.shift.call(arguments),arguments[0]=s.compose(t,e),s.composeMany.apply(null,arguments)}return s.compose.apply(null,arguments)},s.thenMove=function(t,e){return e[2]||(e[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+e[0],t[13]+e[1],t[14]+e[2],1]},s.moveThen=function(t,e){t[2]||(t[2]=0);var i=t[0]*e[0]+t[1]*e[4]+t[2]*e[8],n=t[0]*e[1]+t[1]*e[5]+t[2]*e[9],o=t[0]*e[2]+t[1]*e[6]+t[2]*e[10];return s.thenMove(e,[i,n,o])},s.translate=function(t){var e=t[0]||0,i=t[1]||0,n=t[2]||0;return[1,0,0,0,0,1,0,0,0,0,1,0,e,i,n,1]},s.translateX=function(t){return[1,0,0,0,0,1,0,0,0,0,1,0,t,0,0,1]},s.translateY=function(t){return[1,0,0,0,0,1,0,0,0,0,1,0,0,t,0,1]},s.translateZ=function(t){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,t,1]},s.scale=function(t){var e=void 0!==t[0]?t[0]:1,i=void 0!==t[1]?t[1]:1,n=void 0!==t[2]?t[2]:1;return[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1]},s.scaleX=function(t){return[t,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.scaleY=function(t){return[1,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]},s.scaleZ=function(t){return[1,0,0,0,0,1,0,0,0,0,t,0,0,0,0,1]},s.thenScale=function(t,e){var i=void 0!==e[0]?e[0]:1,n=void 0!==e[1]?e[1]:1,o=void 0!==e[2]?e[2]:1;return[i*t[0],n*t[1],o*t[2],0,i*t[4],n*t[5],o*t[6],0,i*t[8],n*t[9],o*t[10],0,i*t[12],n*t[13],o*t[14],1]},s.rotateX=function(t){var e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},s.rotateY=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},s.rotateZ=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},s.skewX=function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},s.skewY=function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.rotateAxis=function(t,e){var i=Math.sin(e),n=1-Math.cos(e),o=1-n,r=t[0]*t[0]*o,s=t[0]*t[1]*o,a=t[0]*t[2]*o,u=t[1]*t[1]*o,c=t[1]*t[2]*o,h=t[2]*t[2]*o,p=t[0]*i,l=t[1]*i,f=t[2]*i;return[r+n,s+f,a-l,0,s-f,u+n,c+p,0,a+l,c-p,h+n,0,0,0,0,1]},s.aboutOrigin=function(t,e){t[2]=t[2]||0;var i=t[0]-(t[0]*e[0]+t[1]*e[4]+t[2]*e[8]),n=t[1]-(t[0]*e[1]+t[1]*e[5]+t[2]*e[9]),o=t[2]-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]);return s.thenMove(e,[i,n,o])},s.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},s.getTranslate=function(t){return[t[12],t[13],t[14]]},s.inverse=function(t){var e=t[5]*t[10]-t[6]*t[9],i=t[4]*t[10]-t[6]*t[8],n=t[4]*t[9]-t[5]*t[8],o=t[1]*t[10]-t[2]*t[9],r=t[0]*t[10]-t[2]*t[8],s=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],u=t[0]*t[6]-t[2]*t[4],c=t[0]*t[5]-t[1]*t[4],h=t[0]*e-t[1]*i+t[2]*n,p=1/h,l=[p*e,-p*o,p*a,0,-p*i,p*r,-p*u,0,p*n,-p*s,p*c,0,0,0,0,1];return l[12]=-t[12]*l[0]-t[13]*l[4]-t[14]*l[8],l[13]=-t[12]*l[1]-t[13]*l[5]-t[14]*l[9],l[14]=-t[12]*l[2]-t[13]*l[6]-t[14]*l[10],l},s.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},s.interpret=function(t){var e=[t[0],t[1],t[2]],i=r(e[0]),a=o(e),u=[e[0]+i*a,e[1],e[2]],c=2/n(u);if(c>=1/0)return{translate:s.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];h[0]=1-c*u[0]*u[0],h[5]=1-c*u[1]*u[1],h[10]=1-c*u[2]*u[2],h[1]=-c*u[0]*u[1],h[2]=-c*u[0]*u[2],h[6]=-c*u[1]*u[2],h[4]=h[1],h[8]=h[2],h[9]=h[6];var p=s.compose(h,t),l=[p[5],p[6]],f=r(l[0]),d=o(l),v=[l[0]+f*d,l[1]],y=2/n(v),g=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];g[5]=1-y*v[0]*v[0],g[10]=1-y*v[1]*v[1],g[6]=-y*v[0]*v[1],g[9]=g[6];var m=s.compose(g,h),_=s.compose(m,t),b=s.scale(_[0]<0?-1:1,_[5]<0?-1:1,_[10]<0?-1:1);_=s.compose(_,b),m=s.compose(b,m);var O={};return O.translate=s.getTranslate(t),O.rotate=[Math.atan2(-m[6],m[10]),Math.asin(m[2]),Math.atan2(-m[1],m[0])],O.rotate[0]||(O.rotate[0]=0,O.rotate[2]=Math.atan2(m[4],m[5])),O.scale=[_[0],_[5],_[10]],O.skew=[Math.atan2(_[9],O.scale[2]),Math.atan2(_[8],O.scale[2]),Math.atan2(_[4],O.scale[0])],Math.abs(O.rotate[0])+Math.abs(O.rotate[2])>1.5*Math.PI&&(O.rotate[1]=Math.PI-O.rotate[1],O.rotate[1]>Math.PI&&(O.rotate[1]-=2*Math.PI),O.rotate[1]<-Math.PI&&(O.rotate[1]+=2*Math.PI),O.rotate[0]<0?O.rotate[0]+=Math.PI:O.rotate[0]-=Math.PI,O.rotate[2]<0?O.rotate[2]+=Math.PI:O.rotate[2]-=Math.PI),O},s.build=function(t){var e=s.scale(t.scale[0],t.scale[1],t.scale[2]),i=s.skew(t.skew[0],t.skew[1],t.skew[2]),n=s.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return s.thenMove(s.compose(s.compose(n,i),e),t.translate)},s.average=function(t,e,i){i=void 0===i?.5:i;for(var n=s.interpret(t),o=s.interpret(e),r={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)r.translate[a]=(1-i)*n.translate[a]+i*o.translate[a],r.rotate[a]=(1-i)*n.rotate[a]+i*o.rotate[a],r.scale[a]=(1-i)*n.scale[a]+i*o.scale[a],r.skew[a]=(1-i)*n.skew[a]+i*o.skew[a];return s.build(r)},s.equals=function(t,e){return!s.notEquals(t,e)},s.notEquals=function(t,e){return t===e?!1:!(t&&e)||t[12]!==e[12]||t[13]!==e[13]||t[14]!==e[14]||t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[4]!==e[4]||t[5]!==e[5]||t[6]!==e[6]||t[8]!==e[8]||t[9]!==e[9]||t[10]!==e[10]},i.exports=s}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.value=t||0,this.velocity=0,this._callback=void 0,this._method=null,this._active=!1,this._currentActive=!1;var e=!1;this.updateMethod=void 0,this._eventInput=new c,this._eventOutput=new c,c.setInputHandler(this,this._eventInput),c.setOutputHandler(this,this._eventOutput),this._eventInput.on("start",function(t){this._currentActive=!0,this._active||(this.emit("start",t),this._active=!0)}.bind(this)),this._eventInput.on("update",function(t){e=!0,this.value=t,this.velocity=this._engineInstance.getVelocity(),this.emit("update",t)}.bind(this)),this._eventInput.on("end",function(t){if(this.value=t,this._currentActive=!1,this._callback){var i=this._callback;this._callback=void 0,i()}this._currentActive||(this._active=!1,e=!1,this._engineInstance&&(this.velocity=this._engineInstance.getVelocity()),this._active=!1,this.emit("end",t))}.bind(this)),void 0!==t&&(this.value=t,a.push(function(){this.trigger("start",t),s.push(function(){e||this.trigger("end",t)}.bind(this))}.bind(this)))}function r(t,e){this._eventOutput=new c,c.setOutputHandler(this,this._eventOutput),this.sources=[];for(var i=0;i<t.length;i++){var n=new e(t[i]);this.sources.push(n)}this.stream=p.merge(this.sources),this._eventOutput.subscribe(this.stream)}var s=i(6),a=i(5),u=i(7),c=i(9),h=i(11),p=i(15),l=i(23),f=i(24),d=i(25),v={tween:l,spring:f,inertia:d};o.prototype=Object.create(h.prototype),o.prototype.constructor=o,o.register=function(t,e){t in v||(v[t]=e)},o.unregister=function(t){return t in v?(delete v[t],!0):!1},o.prototype.set=function(t,e,i){if(!e)return this.value=t,i&&i(),void(this.isActive()||(this.trigger("start",t),s.push(function(){this.trigger("end",t)}.bind(this))));i&&(this._callback=i);var n=e.curve,o=n&&v[n]?v[n]:l;if(this._method!==o){if(this._engineInstance){if(this.updateMethod){var a=u.indexOf(this.updateMethod);a>=0&&u.splice(a,1)}this.unsubscribe(this._engineInstance)}if(this.value instanceof Array){var c=this.value.length;this._engineInstance=c<o.DIMENSIONS?new o(this.value):new r(this.value,o)}else this._engineInstance=new o(this.value);this.subscribe(this._engineInstance),this.updateMethod=this._engineInstance.update.bind(this._engineInstance),u.push(this.updateMethod),this._method=o}e.velocity||(e.velocity=this.velocity),this._engineInstance.set(t,e)},o.prototype.get=function(){return this.value},o.prototype.getVelocity=function(){return this.velocity},o.prototype.reset=function(t,e){this.value=t,this.velocity=e||0,this._callback=null,this._method=null,this._engineInstance&&this._engineInstance.reset(t,e)},o.prototype.halt=function(){if(this._active&&(this.reset(this.get()),this.trigger("end",this.value),this._engineInstance)){if(this.updateMethod){var t=u.indexOf(this.updateMethod);t>=0&&u.splice(t,1)}this.unsubscribe(this._engineInstance)}},o.prototype.isActive=function(){return this._active},o.prototype.setMany=function(t,e){var i=t.shift();0===t.length?this.set(i[0],i[1],e):this.set(i[0],i[1],this.setMany.bind(this,t,e))},o.prototype.loop=function(t){var e=t.slice(0);this.setMany(t,this.loop.bind(this,e))},o.prototype.delay=function(t,e){this.set(this.get(),{duration:e,curve:function(){return 0}},t)},r.prototype.set=function(t,e){for(var i=e.velocity?e.velocity.slice():void 0,n=0;n<t.length;n++)i&&(e.velocity=i[n]),this.sources[n].set(t[n],e)},r.prototype.getVelocity=function(){for(var t=[],e=0;e<this.sources.length;e++)t[e]=this.sources[e].getVelocity();return t},r.prototype.update=function(){for(var t=0;t<this.sources.length;t++)this.sources[t].update()},r.prototype.reset=function(t){for(var e=0;e<this.sources.length;e++){var i=this.sources[e];i.reset(t[e])}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){p.call(this),this.state=t||0,this.velocity=0,this._startValue=t||0,this._endValue=0,this._startTime=l(),this._curve=void 0,this._duration=0,this._active=!1,this._eventOutput=new h,h.setOutputHandler(this,this._eventOutput)}function r(t){var e=d[t];if(void 0!==e)return e;throw new Error("curve not registered")}function s(t,e,i){var n;if(t instanceof Array){n=[];for(var o=0;o<t.length;o++)"number"==typeof t[o]?n.push(a(t[o],e[o],i)):n.push(t[o])}else n=a(t,e,i);return n}function a(t,e,i){return(1-i)*t+i*e}function u(t,e,i,n,o){return(t-e)*(i(o+f)-i(o-f))/(2*f*n)}function c(t,e,i,n,o){var r;if(t instanceof Array){r=[];for(var s=0;s<t.length;s++)"number"==typeof t[s]?r.push(u(t[s],e[s],i,n,o)):r.push(t[s])}else r=u(t,e,i,n,o);return r}var h=i(9),p=i(11),l=Date.now,f=1e-9,d={};o.prototype=Object.create(p.prototype),o.prototype.constructor=o,o.CURVES={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1+Math.pow(t-1,3)},easeInOutCubic:function(t){return t*=2,1>t?.5*t*t*t:.5*Math.pow(t-2,3)+1},easeOutWall:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},o.DIMENSIONS=1/0,o.DEFAULT_OPTIONS={curve:o.CURVES.linear,duration:500},o.register=function(t,e){return d[t]?!1:(d[t]=e,!0)},o.deregister=function(t){return d[t]?(delete d[t],!0):!1},o.getCurves=function(){return d},o.prototype.set=function(t,e){this._startValue=this.get(),this._active||(this.emit("start",this._startValue),this._active=!0),this._endValue=t,this._startTime=l();var i=e.curve;!d[i]&&o.CURVES[i]&&o.register(i,o.CURVES[i]),this.velocity=e.velocity,this._duration=e.duration||o.DEFAULT_OPTIONS.duration,this._curve=i?i instanceof Function?i:r(i):o.DEFAULT_OPTIONS.curve},o.prototype.get=function(){return this.state},o.prototype.getVelocity=function(){return this.velocity},o.prototype.reset=function(t,e){this.state=t,this.velocity=e||0},o.prototype.halt=function(){var t=this.get();this.reset(t),this._active=!1,this.emit("end",t)},o.prototype.update=function(){if(this._active){var t=l()-this._startTime;if(this.velocity=c(this.state,this._startValue,this._curve,this._duration,1),t<this._duration){var e=t/this._duration;this.state=s(this._startValue,this._endValue,this._curve(e)),this.emit("update",this.state)}else this.emit("update",this._endValue),this.reset(this._endValue),this._active=!1,this.emit("end",this._endValue)}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t,e){l.call(this),this.value=t||0,this.velocity=e||0,this.target=null,this.startTime=f(),this.curve=null,this.energy=null,this.energyTolerance=v,this._active=!1,this._eventOutput=new p,p.setOutputHandler(this,this._eventOutput)}function r(t,e){return Math.max(1,Math.abs(e-t))}function s(t,e,i,n,o){return 1>t?u(t,e,i,n,o):1===t?c(t,e,i,n,o):h(t,e,i,n,o)}function a(t){var e=2*Math.PI/t;return function(t,i,n){var o=t-i,r=e*e*o*o,s=n*n;return s+r}}function u(t,e,i,n,o){var r=Math.sqrt(1-t*t)/e,s=i-n,a=(t/e*s+o)/r;return function(i){return n+Math.exp(-t*i/e)*(s*Math.cos(r*i)+a*Math.sin(r*i))}}function c(t,e,i,n,o){var r=i-n,s=o+r/e;return function(i){return n+Math.exp(-t*i/e)*(r+s*i)}}function h(t,e,i,n,o){var r=Math.sqrt(t*t-1)/e,s=-t/e+r,a=-t/e-r,u=i-n,c=(s*u-o)/(a-s),h=u+c,p=-c;return function(t){return n+h*Math.exp(s*t)+p*Math.exp(a*t)}}var p=i(9),l=i(11),f=Date.now,d=1e-6,v=1e-9;o.DIMENSIONS=1,o.DEFAULT_OPTIONS={velocity:0,damping:.5,period:100},o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.prototype.set=function(t,e){var i=this.get();this._active||(this.emit("start",i),this._active=!0);var n=e.damping||o.DEFAULT_OPTIONS.damping,u=e.period||o.DEFAULT_OPTIONS.period,c=e.velocity||this.velocity;this.curve=s(n,u,i,t,c),this.energy=a(u);var h=r(t,i);this.energyTolerance=v*Math.pow(h,2),this.target=t,this.startTime=f()},o.prototype.get=function(){return this.value},o.prototype.getVelocity=function(){return this.velocity},o.prototype.reset=function(t,e){this.value=t,this.velocity=e||0},o.prototype.halt=function(){if(this._active){var t=this.get();this.reset(t),this._active=!1,this.emit("end",t)}},o.prototype.isActive=function(){return this._active},o.prototype.update=function(){if(this._active){var t=f()-this.startTime,e=this.curve(t),i=this.curve(t+d),n=this.curve(t-d);this.velocity=(i-n)/(2*d);var o=this.energy(this.target,e,this.velocity);o>=this.energyTolerance?(this.value=e,this.emit("update",e)):(this.emit("update",this.target),this.reset(this.target),this._active=!1,this.emit("end",this.target))}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t,e){s.call(this),this.value=t||0,this.velocity=e||0,this.drag=0,this.energy=null,this._active=!1,this._previousTime=a(),this._eventOutput=new r,r.setOutputHandler(this,this._eventOutput)}var r=i(9),s=i(11),a=Date.now,u=1e-4;o.DIMENSIONS=1,o.DEFAULT_OPTIONS={velocity:0,drag:.1},o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.set=function(t,e){this._active||(this.emit("start",t),this._active=!0),this.value=t,this.drag=void 0==e.drag?o.DEFAULT_OPTIONS.drag:Math.pow(Math.min(e.drag,1),3),this.velocity=e.velocity||this.velocity},o.prototype.get=function(){return this.value},o.prototype.getVelocity=function(){return this.velocity},o.prototype.reset=function(t,e){this.value=t,this.velocity=e||0},o.prototype.halt=function(){if(this._active){var t=this.get();this.reset(t),this._active=!1,this.emit("end",t)}},o.prototype.isActive=function(){return this._active},o.prototype.update=function(){if(this._active){var t=a(),e=t-this._previousTime;this._previousTime=t,this.velocity*=1-this.drag,this.value+=e*this.velocity;var i=.5*this.velocity*this.velocity;i>=u?this.emit("update",this.value):(this.emit("update",this.value),this.reset(this.value),this._active=!1,this.emit("end",this.value))}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){for(var e in t){var i=t[e];switch(e){case"size":this.setSize(i);break;case"proportions":this.setProportions(i);break;case"aspectRatio":this.setAspectRatio(i);break;case"origin":this.setOrigin(i);break;case"opacity":this.setOpacity(i)}}}var r=i(27),s=i(30),a=i(17),u=i(8),c=(i(22),i(9),s.extend({_isView:!0,defaults:{size:null,origin:null,opacity:1},events:{change:o},constructor:function(t){this._sizeNode=new a,this._layoutNode=new u,this._node=new r,this._addNode=this._node.add(this._sizeNode).add(this._layoutNode),this.size=this._addNode.size,this._size=this._node.size,this._cachedSize=[0,0],this.size.on("resize",function(t){this._cachedSize=t}.bind(this)),s.apply(this,arguments),this.options&&o.call(this,this.options)},add:function(){return r.prototype.add.apply(this._addNode,arguments)},remove:function(){this._cachedSize=[0,0],r.prototype.remove.apply(this._node,arguments)},getSize:function(){return this._cachedSize},setSize:function(t){this._cachedSize=t,this._sizeNode.set({size:t})},setProportions:function(t){this._sizeNode.set({proportions:t})},setAspectRatio:function(t){this._sizeNode.set({aspectRatio:t})},setOrigin:function(t){this._layoutNode.set({origin:t})},setOpacity:function(t){this._layoutNode.set({opacity:t})}}));n.exports=c}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this._layout=new a,this._size=new a,this._logic=new a,this.size=new a,this.layout=new a,this.root=null,t?s.call(this,t):(this.layout.subscribe(this._layout),this.size.subscribe(this._size)),this._cachedSpec={layout:null,size:null},this.layout.on("start",function(t){this._cachedSpec.layout=t}.bind(this)),this.layout.on("update",function(t){this._cachedSpec.layout=t}.bind(this)),this.layout.on("end",function(t){this._cachedSpec.layout=t}.bind(this)),this.size.on("resize",function(t){this._cachedSpec.size=t}.bind(this)),this._logic.on("mount",function(t){this.root=t}.bind(this)),this._logic.on("unmount",function(){this.root=null}.bind(this))}function r(t){var e={},i={};for(var n in t)y[n]?e[n]=t[n]:g[n]&&(i[n]=t[n]);var o=this,r=Object.keys(e).length>0,s=Object.keys(i).length>0;if(r&&i.align){var a=new p({align:i.align});delete i.align,o=o.add(a)}return r&&(o=o.add(new h(e))),s&&(o=o.add(new p(i))),o}function s(t){if(t instanceof h){var e=c.lift(function(t,e){return e?t?f(t,e):e:!1},[t,this._size]);return this.size.subscribe(e),void this.layout.subscribe(this._layout)}if(t instanceof p){var i=u.lift(function(t,e,i){return e&&i?t?l(t,e,i):e:!1},[t,this._layout,this._size]);return this.layout.subscribe(i),void this.size.subscribe(this._size)}t._size.subscribe(this._size),t._layout.subscribe(this._layout),this._logic.on("detach",function(){t.remove(),t._size.unsubscribe(this._size),t._layout.unsubscribe(this._layout)}.bind(this)),this._logic.on("attach",function(){this.root&&!t._currentTarget&&t.setup(this.root.allocator),t._size.subscribe(this._size),t._layout.subscribe(this._layout)}.bind(this))}var a=i(9),u=i(15),c=i(18),h=i(17),p=i(8),l=i(28),f=i(29),d=i(5),v=i(6),y=h.KEYS,g=p.KEYS;o.prototype.add=function(t){var e,i=this;return d.push(function(){i._cachedSpec.size&&(i.size.trigger("resize",i._cachedSpec.size),i.layout.trigger("start",i._cachedSpec.layout),v.push(function(){i.layout.trigger("end",i._cachedSpec.layout)}))}),t.constructor===Object?r.call(this,t):t._isView?this.add(t._node):(e=t instanceof o?t:new o(t),e._layout.subscribe(this.layout),e._size.subscribe(this.size),e._logic.subscribe(this._logic),this.root&&!e.root&&e._logic.trigger("mount",this.root),this._logic.emit("attach"),e)},o.prototype.remove=function(){this._logic.trigger("detach"),this._logic.trigger("unmount"),this._layout.unsubscribe(),this._size.unsubscribe(),this._logic.unsubscribe()},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t,e,i){var n=void 0!==e.opacity?e.opacity:a.OPACITY,o=e.transform||a.TRANSFORM,u=t.origin||a.ORIGIN,c=t.align||a.ALIGN,h=void 0!==t.opacity?n*t.opacity:n,p=t.transform?s.compose(o,t.transform):o,l=t.origin?o:e.nextSizeTransform||o;if(t.size&&(l=o),u&&(u[0]||u[1])){var f="number"==typeof i[0]?-u[0]*i[0]:0,d="number"==typeof i[1]?-u[1]*i[1]:0;p=s.moveThen([f,d,0],p),u=null}if(i&&c&&(c[0]||c[1])){var v=r([c[0]*i[0],c[1]*i[1],0],l);p=s.thenMove(p,v),c=null}return{transform:p,opacity:h,origin:u,align:c,nextSizeTransform:l}}function r(t,e){return[t[0]*e[0]+t[1]*e[4]+t[2]*e[8],t[0]*e[1]+t[1]*e[5]+t[2]*e[9],t[0]*e[2]+t[1]*e[6]+t[2]*e[10]]}var s=i(21),a={OPACITY:1,TRANSFORM:s.identity,ORIGIN:null,ALIGN:null};n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){
function n(t,e){if(!t)return e;var i=new Array(2);return t.size&&(void 0===t.size[0]&&(i[0]=e[0]),void 0===t.size[1]&&(i[1]=e[1]),"number"==typeof t.size[0]&&(i[0]=t.size[0]),"number"==typeof t.size[1]&&(i[1]=t.size[1]),t.size[0]===!0&&(i[0]=!0),t.size[1]===!0&&(i[1]=!0)),t.proportions&&("number"==typeof t.proportions[0]&&(i[0]=t.proportions[0]*e[0]),"number"==typeof t.proportions[1]&&(i[1]=t.proportions[1]*e[1])),t.aspectRatio&&("number"==typeof i[0]?i[1]=t.aspectRatio*i[0]:"number"==typeof i[1]&&(i[0]=t.aspectRatio*i[1])),void 0===i[0]&&(i[0]=e[0]),void 0===i[1]&&(i[1]=e[1]),t.margins&&(i[0]-=2*t.margins[0],i[1]-=2*t.margins[1]),i}i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=r(this.constructor.DEFAULT_OPTIONS||o.DEFAULT_OPTIONS),this._optionsManager=new a(this.options),t&&this.setOptions(t),this.input=new c,this.output=new c,u.setInputHandler(this,this.input),u.setOutputHandler(this,this.output),u.setInputEvents(this,this.constructor.EVENTS||o.EVENTS,this.input),this.input.bindThis(this),this.input.subscribe(this._optionsManager),this.initialize&&this.initialize(this.options)}function r(t){var e;if("object"==typeof t){e=t instanceof Array?[]:{};for(var i in t){var n=t[i];if("object"==typeof n&&null!==n)if(n instanceof Array){e[i]=[];for(var o=0;o<n.length;o++)e[i][o]=r(n[o])}else e[i]=r(n);else e[i]=n}}else e=t;return e}function s(t,e){var i=this,n=t.hasOwnProperty("constructor")?function(){t.constructor.apply(this,arguments)}:function(){i.apply(this,arguments)};n.extend=s,n.prototype=Object.create(i.prototype),n.prototype.constructor=n;for(var o in t){var r=t[o];switch(o){case h.DEFAULTS:n.DEFAULT_OPTIONS=r;break;case h.EVENTS:if(n.EVENTS)for(var o in r)n.EVENTS[o]=r[o];else n.EVENTS=r;break;default:n.prototype[o]=r}}for(var o in e)n[o]=e[o];return n}var a=i(31),u=i(9),c=i(11);o.DEFAULT_OPTIONS={},o.EVENTS={},o.prototype.getOptions=function(t){return a.prototype.getOptions.apply(this._optionsManager,arguments)},o.prototype.setOptions=function(){a.prototype.setOptions.apply(this._optionsManager,arguments)};var h={DEFAULTS:"defaults",EVENTS:"events"};o.extend=s,n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this._value=t,this._eventHandler=null}function r(){this._eventHandler||(this._eventHandler=new a)}function s(t){var e;if("object"==typeof t){e=t instanceof Array?[]:{};for(var i in t){var n=t[i];if("object"==typeof n&&null!==n)if(n instanceof Array){e[i]=[];for(var o=0;o<n.length;o++)e[i][o]=s(n[o])}else e[i]=s(n);else e[i]=n}}else e=t;return e}var a=i(9);o.patch=function(t,e){for(var i=new o(t),n=1;n<arguments.length;n++)i.patch(arguments[n]);return t},o.setOptions=function(t,e,i){i=i||s(t.constructor.DEFAULT_OPTIONS)||{};var n=new o(i);return t.setOptions=o.prototype.setOptions.bind(n),t.getOptions=o.prototype.getOptions.bind(n),e&&t.setOptions(e),n.get()},o.prototype.patch=function(t,e){var i=this._value;for(var n in t)n in i&&t[n]&&t[n].constructor===Object&&i[n]&&i[n].constructor===Object?(i.hasOwnProperty(n)||(i[n]=Object.create(i[n])),this.key(n).patch(t[n]),this._eventHandler&&this._eventHandler.emit("change",{key:n,value:this.key(n).value()})):this.set(n,t[n]);return this},o.prototype.setOptions=o.prototype.patch,o.prototype.key=function u(u){var t=new o(this._value[u]);return t._value instanceof Object&&!(t._value instanceof Array)||(t._value={}),t},o.prototype.get=function(t){return t?this._value[t]:this._value},o.prototype.getOptions=o.prototype.get,o.prototype.set=function(t,e){var i=this.get(t);return this._value[t]=e,this._eventHandler&&e!==i&&this._eventHandler.emit("change",{key:t,value:e}),this},o.prototype.on=function(t,e){r.call(this),a.prototype.on.apply(this._eventHandler,arguments)},o.prototype.off=function(t,e){r.call(this),a.prototype.off.apply(this._eventHandler,arguments)},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={Surface:i(33),ContainerSurface:i(35),Context:i(36)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.properties={},this.attributes={},this.classList=[],this.content="",this._cachedSize=null,this._allocator=null,this._elementOutput=new v,this._eventOutput=new u,u.setOutputHandler(this,this._eventOutput),this._eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this._sizeNode=new p,this._layoutNode=new l,this._size=new u,this._layout=new u,this.size=h.lift(function(t,e){return e?f(t,e):!1},[this._sizeNode,this._size]),this.layout=c.lift(function(t,e,i){return t&&i?e?d(e,t,i):t:!1},[this._layout,this._layoutNode,this.size]),this.layout.on("update",r.bind(this)),this.layout.on("end",r.bind(this)),this.size.on("resize",s.bind(this)),t&&this.setOptions(t)}function r(t){this._currentTarget&&this._elementOutput.commitLayout(this._currentTarget,t)}function s(t){if(this._currentTarget){var e=this._elementOutput.commitSize(this._currentTarget,t);this._cachedSize=t,e&&this.emit("resize",t)}}function a(){this.addClass("samsara-scrollable"),g&&this.on("deploy",function(t){m&&t.addEventListener("touchstart",function(){var e=t.scrollTop,i=t.offsetHeight,n=t.scrollHeight;0==e?t.scrollTop=1:e+i==n&&(t.scrollTop=n-i-1)},!1),t.addEventListener("touchmove",function(t){t.stopPropagation()},!1)})}var u=i(9),c=i(15),h=i(18),p=i(17),l=i(8),f=i(29),d=i(28),v=i(34),y=i(6),g="ontouchstart"in window,m=/iPad|iPhone|iPod/.test(navigator.platform);o.prototype=Object.create(v.prototype),o.prototype.constructor=o,o.prototype.elementType="div",o.prototype.elementClass="samsara-surface",o.prototype.setAttributes=function(t){for(var e in t){var i=t[e];void 0!=i&&(this.attributes[e]=t[e])}return y.push(function(){this._currentTarget&&this._elementOutput.applyAttributes(this._currentTarget,t)}.bind(this)),this},o.prototype.getAttributes=function(){return this.attributes},o.prototype.setProperties=function(t){for(var e in t)this.properties[e]=t[e];return y.push(function(){this._currentTarget&&this._elementOutput.applyProperties(this._currentTarget,t)}.bind(this)),this},o.prototype.getProperties=function(){return this.properties},o.prototype.addClass=function(t){return this.classList.indexOf(t)<0&&(this.classList.push(t),y.push(function(){this._currentTarget&&this._elementOutput.applyClasses(this._currentTarget,this.classList)}.bind(this))),this},o.prototype.removeClass=function(t){var e=this.classList.indexOf(t);e>=0&&(this.classList.splice(e,1),y.push(function(){this._elementOutput.removeClasses(this._currentTarget,this.classList)}.bind(this)))},o.prototype.toggleClass=function(t){var e=this.classList.indexOf(t);-1==e?this.addClass(t):this.removeClass(t)},o.prototype.setClasses=function(t){for(var e=0;e<t.length;e++)this.addClass(t[e]);return this},o.prototype.getClassList=function(){return this.classList},o.prototype.setContent=function(t){return this.content!==t&&(this.content=t,y.push(function(){this._elementOutput.deploy(this._currentTarget,t)}.bind(this))),this},o.prototype.getContent=function(){return this.content},o.prototype.setOptions=function(t){void 0!==t.tagName&&(this.elementType=t.tagName),void 0!==t.opacity&&this.setOpacity(t.opacity),void 0!==t.size&&this.setSize(t.size),void 0!==t.origin&&this.setOrigin(t.origin),void 0!==t.proportions&&this.setProportions(t.proportions),void 0!==t.margins&&this.setMargins(t.margins),void 0!==t.classes&&this.setClasses(t.classes),void 0!==t.properties&&this.setProperties(t.properties),void 0!==t.attributes&&this.setAttributes(t.attributes),void 0!==t.content&&this.setContent(t.content),void 0!==t.aspectRatio&&this.setAspectRatio(t.aspectRatio),t.enableScroll&&a.call(this),t.roundToPixel&&(this.roundToPixel=t.roundToPixel)},o.prototype.on=function(t,e){this._currentTarget&&this._elementOutput.on(this._currentTarget,t,this._eventForwarder),u.prototype.on.apply(this._eventOutput,arguments)},o.prototype.off=function(t,e){this._currentTarget&&this._elementOutput.off(this._currentTarget,t,this._eventForwarder),u.prototype.off.apply(this._eventOutput,arguments)},o.prototype.setup=function(t){this._allocator=t;var e=t.allocate(this.elementType);if(this._currentTarget=e,this.elementClass)if(this.elementClass instanceof Array)for(var i=0;i<this.elementClass.length;i++)this.addClass(this.elementClass[i]);else this.addClass(this.elementClass);for(var n in this._eventOutput.listeners)this._elementOutput.on(e,n,this._eventForwarder);this._elementOutput.set(e),this._elementOutput.applyClasses(e,this.classList),this._elementOutput.applyProperties(e,this.properties),this._elementOutput.applyAttributes(e,this.attributes),this.deploy(e)},o.prototype.remove=function(){var t=this._currentTarget;this._elementOutput.removeClasses(t,this.classList),this._elementOutput.removeProperties(t,this.properties),this._elementOutput.removeAttributes(t,this.attributes),this._elementOutput.reset(t);for(var e in this._eventOutput.listeners)this._elementOutput.off(t,e,this._eventForwarder);this.recall(t),this._allocator.deallocate(t),this._allocator=null,this._currentTarget=null},o.prototype.deploy=function(t){var e=this.getContent();this._elementOutput.deploy(t,e),this._eventOutput.emit("deploy",t)},o.prototype.recall=function(t){this._eventOutput.emit("recall"),this.content=this._elementOutput.recall(t)},o.prototype.getSize=function(){return this._cachedSize},o.prototype.setSize=function(t){this._cachedSize=t,this._sizeNode.set({size:t})},o.prototype.setProportions=function(t){this._sizeNode.set({proportions:t})},o.prototype.setMargins=function(t){this._sizeNode.set({margins:t})},o.prototype.setAspectRatio=function(t){this._sizeNode.set({aspectRatio:t})},o.prototype.setOrigin=function(t){this._layoutNode.set({origin:t}),this._elementOutput._originDirty=!0},o.prototype.setOpacity=function(t){this._layoutNode.set({opacity:t}),this._elementOutput._opacityDirty=!0},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(){this._cachedSpec={},this._opacityDirty=!0,this._originDirty=!0,this._transformDirty=!0,this._isVisible=!0}function r(t,e){return 1===e?Math.round(t):Math.round(t*e)/e}function s(t,e){for(var i="matrix3d(",n=0;15>n;n++)Math.abs(t[n])<d&&(t[n]=0),i+=12===n||13===n?r(t[n],e)+",":t[n]+",";return i+t[15]+")"}function a(t){return 100*t[0]+"% "+100*t[1]+"%"}function u(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]:t!==e}var c=i(21),h=!("transform"in window.document.documentElement.style),p=2*(window.devicePixelRatio||1),l=1e-4,f=.9999,d=1e-5,v=[0,0],y=h?function(t,e){t.style.webkitTransformOrigin=a(e)}:function(t,e){t.style.transformOrigin=a(e)},g=h?function(t,e,i){t.style.webkitTransform=s(e,i)}:function(t,e,i){t.style.transform=s(e,i)},m=function(t,e){e[0]===!0?e[0]=t.offsetWidth:t.style.width=e[0]+"px",e[1]===!0?e[1]=t.offsetHeight:t.style.height=e[1]+"px"},_=function(t,e){!this._isVisible&&e>l&&(t.style.visibility="visible",this._isVisible=!0),e>f?e=f:l>e&&(e=l,this._isVisible&&(t.style.visibility="hidden",this._isVisible=!1)),this._isVisible&&(t.style.opacity=e)};o.prototype.applyClasses=function(t,e){for(var i=0;i<e.length;i++)t.classList.add(e[i])},o.prototype.applyProperties=function(t,e){for(var i in e)t.style[i]=e[i]},o.prototype.applyAttributes=function(t,e){for(var i in e)t.setAttribute(i,e[i])},o.prototype.removeClasses=function(t,e){for(var i=0;i<e.length;i++)t.classList.remove(e[i])},o.prototype.removeProperties=function(t,e){for(var i in e)t.style[i]=""},o.prototype.removeAttributes=function(t,e){for(var i in e)t.removeAttribute(i)},o.prototype.on=function(t,e,i){t.addEventListener(e,i)},o.prototype.off=function(t,e,i){t.removeEventListener(e,i)},o.prototype.deploy=function(t,e){if(e instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}else t.innerHTML=e},o.prototype.recall=function(t){for(var e=document.createDocumentFragment();t.hasChildNodes();)e.appendChild(t.firstChild);return e},o.prototype.set=function(t){t.style.display="",t.style.visibility="",this._cachedSize&&(this._cachedSize[0]===!0&&(t.style.width="auto"),this._cachedSize[1]===!0&&(t.style.height="auto"))},o.prototype.reset=function(t){t.style.display="none",t.style.opacity="",t.style.width="",t.style.height="",h?(t.style.webkitTransform="",t.style.webkitTransformOrigin=""):(t.style.transform="",t.style.transformOrigin=""),this._cachedSpec={}},o.prototype.commitLayout=function(t,e){var i=this._cachedSpec,n=e.transform||c.identity,o=void 0===e.opacity?1:e.opacity,r=e.origin||v;this._transformDirty=c.notEquals(i.transform,n),this._opacityDirty=this._opacityDirty||i.opacity!==o,this._originDirty=this._originDirty||r&&u(i.origin,r),this._opacityDirty&&(i.opacity=o,_.call(this,t,o)),this._originDirty&&(i.origin=r,y(t,r)),this._transformDirty&&(i.transform=n,g(t,n,this.roundToPixel?1:p)),this._originDirty=!1,this._transformDirty=!1,this._opacityDirty=!1},o.prototype.commitSize=function(t,e){return e[0]!==!0&&(e[0]=r(e[0],p)),e[1]!==!0&&(e[1]=r(e[1],p)),u(this._cachedSpec.size,e)?(this._cachedSpec.size=e,m(t,e),!0):!1},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this,t),this.context=new s,this.context.elementClass=o.prototype.elementClass,this.context._size.subscribe(this.size),this.on("deploy",function(t){this.context.mount(t,!0)}.bind(this)),this.on("recall",function(){this.context.remove()}.bind(this))}var r=i(33),s=i(36);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.elementType="div",o.prototype.elementClass=["samsara-surface","samsara-container"],o.prototype.getPerspective=function(){return s.prototype.getPerspective.apply(this.context,arguments)},o.prototype.setPerspective=function(){s.prototype.setPerspective.apply(this.context,arguments)},o.prototype.add=function(){return s.prototype.add.apply(this.context,arguments)},o.prototype.remove=function(){r.prototype.remove.apply(this,arguments)},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=l.setOptions(this,t,o.DEFAULT_OPTIONS),this._node=new u,this._size=new f,this._layout=new f,this.size=this._size.map(function(){var t=[this.container.clientWidth,this.container.clientHeight];return this.emit("resize",t),t}.bind(this)),this._perspective=new p,this._perspectiveOrigin=new p,this._perspective.on("update",function(t){this.container&&I(this.container,t)}.bind(this)),this._perspective.on("end",function(t){this.container&&I(this.container,t)}.bind(this)),this._perspectiveOrigin.on("update",function(t){this.container&&x(this.container,t)}.bind(this)),this._perspectiveOrigin.on("end",function(t){this.container&&x(this.container,t)}.bind(this)),this._eventOutput=new d,this._eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this.options.enableScroll===!1&&this.on("deploy",function(t){t.addEventListener("touchmove",function(t){t.preventDefault()},!1)})}function r(t){return 100*t[0]+"% "+100*t[1]+"%"}function s(){var t=window.innerHeight,e=window.innerWidth;if(m){var i=t>e;if(_===i)return!1;_=i}else{if(e===b&&t===O)return!1;b=e,O=t}this._size.emit("resize"),y.push(function(){this._size.emit("resize")}.bind(this))}var a=i(2),u=i(37),c=i(21),h=i(38),p=i(22),l=i(31),f=i(11),d=i(9),v=i(5),y=i(6),g=!1,m=/mobi/i.test(window.navigator.userAgent),_=Number.NaN,b=Number.NaN,O=Number.NaN,T={transform:c.identity,opacity:1,origin:null,align:null,nextSizeTransform:c.identity};o.prototype.elementClass="samsara-context",o.DEFAULT_OPTIONS={enableScroll:!1},o.prototype.add=function(){return u.prototype.add.apply(this._node,arguments)},o.prototype.remove=function(){for(this.container.classList.remove(this.elementClass),b=Number.NaN,O=Number.NaN,this._node.remove();this.container.hasChildNodes();)this.container.removeChild(this.container.firstChild)},o.prototype.getPerspective=function(){return this._perspective.get()},o.prototype.setPerspective=function(t,e,i){this._perspective.set(t,e,i)},o.prototype.setPerspectiveOrigin=function(t,e,i){this._perspectiveOrigin.set(t,e,i)},o.prototype.mount=function(t,e){t=t||window.document.body,this.container=t,this.container.classList.add(this.elementClass);var i=new h(this.container);this._node.setAllocator(i),this._node._size.subscribe(this.size),this._node._layout.subscribe(this._layout),this.emit("deploy",this.container),e||window.addEventListener("resize",s.bind(this),!1),v.push(function(){e||s.call(this),this._layout.trigger("start",T),y.push(function(){this._layout.trigger("end",T)}.bind(this))}.bind(this)),g||(g=!0,a.start())},o.prototype.on=function(t,e){this.container?this.container.addEventListener(t,this._eventForwarder):this._eventOutput.on("deploy",function(e){e.addEventListener(t,this._eventForwarder)}.bind(this)),d.prototype.on.apply(this._eventOutput,arguments)},o.prototype.off=function(t,e){d.prototype.off.apply(this._eventOutput,arguments)},o.prototype.emit=function(t,e){d.prototype.emit.apply(this._eventOutput,arguments)};var w=!("perspective"in window.document.documentElement.style),I=w?function(t,e){t.style.webkitPerspective=e?(0|e)+"px":"0px"}:function(t,e){t.style.perspective=e?(0|e)+"px":"0px"},x=w?function(t,e){t.style.webkitPerspectiveOrigin=e?r(e):"50% 50%"}:function(t,e){t.style.perspectiveOrigin=e?r(e):"50% 50%"};n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.allocator=null,r.call(this),t&&this.setAllocator(t)}var r=i(27);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.setAllocator=function(t){this.allocator=t,this._logic.trigger("mount",this),this._logic.trigger("attach")},o.prototype.remove=function(){this.allocator=null,r.prototype.remove.apply(this,arguments)},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){function n(t){this.set(t),this.detachedNodes={}}n.prototype.set=function(t){t||(t=document.createDocumentFragment()),this.container=t},n.prototype.migrate=function(t){var e=this.container;if(t!==e){if(e instanceof DocumentFragment)t.appendChild(e);else for(;e.hasChildNodes();)t.appendChild(e.firstChild);this.container=t}},n.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var e,i=this.detachedNodes[t];return 0===i.length?(e=document.createElement(t),this.container.appendChild(e)):e=i.shift(),e},n.prototype.deallocate=function(t){var e=t.nodeName.toLowerCase(),i=this.detachedNodes[e];i.push(t)},i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={EventEmitter:i(10),EventHandler:i(9),EventMapper:i(12),EventFilter:i(13),EventSplitter:i(14)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={GenericInput:i(41),MouseInput:i(42),TouchInput:i(43),ScrollInput:i(45),ScaleInput:i(46),RotateInput:i(48),PinchInput:i(49)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t,e){this._eventInput=new s,this._eventOutput=new s,s.setInputHandler(this,this._eventInput),s.setOutputHandler(this,this._eventOutput),this._inputs={},t&&this.addInput(t),e&&this.setOptions(e)}function r(t,e){u[t]&&(this._inputs[t]=new u[t](e),this.subscribeInput(t))}var s=i(9),a=i(11),u={};o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.DIRECTION={X:0,Y:1},o.register=function(t){for(var e in t){if(u[e]){if(u[e]===t[e])continue;throw new Error("this key is registered to a different input class")}u[e]=t[e]}},o.prototype.setOptions=function(t){for(var e in this._inputs)this._inputs[e].setOptions(t)},o.prototype.subscribeInput=function(t){var e=this._inputs[t];e.subscribe(this._eventInput),this._eventOutput.subscribe(e)},o.prototype.unsubscribeInput=function(t){var e=this._inputs[t];e.unsubscribe(this._eventInput),this._eventOutput.unsubscribe(e)},o.prototype.getInput=function(t){return this._inputs[t]},o.prototype.addInput=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)r.call(this,t[e]);else if(t instanceof Object)for(var i in t)r.call(this,i,t[i])},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=h.setOptions(this,t),this._eventInput=new c,this._eventOutput=new c,c.setInputHandler(this,this._eventInput),c.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",r.bind(this)),this._eventInput.on("mousemove",s.bind(this)),this._eventInput.on("mouseup",a.bind(this)),this._eventInput.on("mouseleave",u.bind(this)),this._payload={delta:null,value:null,cumulate:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._value=null,this._cumulate=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1}function r(t){var e,i;t.preventDefault();var n=t.clientX,o=t.clientY;this._prevCoord=[n,o],this._prevTime=f(),this._down=!0,this._move=!1,void 0!==this.options.direction?(null===this._cumulate&&(this._cumulate=0),this._value=0,e=0,i=0):(null===this._cumulate&&(this._cumulate=[0,0]),this._value=[0,0],e=[0,0],i=[0,0]);var r=this._payload;r.delta=e,r.value=this._value,r.cumulate=this._cumulate,r.velocity=i,r.clientX=n,r.clientY=o,r.offsetX=t.offsetX,r.offsetY=t.offsetY,this._eventOutput.emit("start",r)}function s(t){if(!this._down)return!1;var e,i,n=this.options.scale,r=this._prevCoord,s=this._prevTime,a=t.clientX,u=t.clientY,c=f(),h=n*(a-r[0]),p=n*(u-r[1]),d=Math.max(c-s,l),v=1/d,y=h*v,g=p*v;this.options.direction===o.DIRECTION.X?(i=h,e=y,this._value+=i,this._cumulate+=i):this.options.direction===o.DIRECTION.Y?(i=p,e=g,this._value+=i,this._cumulate+=i):(i=[h,p],e=[y,g],this._value[0]+=i[0],this._value[1]+=i[1],this._cumulate[0]+=i[0],this._cumulate[1]+=i[1]);var m=this._payload;m.delta=i,m.value=this._value,m.cumulate=this._cumulate,m.velocity=e,m.clientX=a,m.clientY=u,m.offsetX=t.offsetX,m.offsetY=t.offsetY,this._eventOutput.emit("update",m),this._prevCoord=[a,u],this._prevTime=c,this._move=!0}function a(){return this._down?(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,void(this._move=!1)):!1}function u(t){if(this._down&&this._move){var e=s.bind(this),i=function(t){a.call(this,t),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)}.bind(this,t);document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}}var c=i(9),h=i(31),p=i(11),l=8,f=Date.now;o.prototype=Object.create(p.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={direction:void 0,scale:1},o.DIRECTION={X:0,Y:1},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=p.setOptions(this,t),this._eventOutput=new c,this._touchTracker=new u,c.setOutputHandler(this,this._eventOutput),c.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",r.bind(this)),this._touchTracker.on("trackmove",s.bind(this)),this._touchTracker.on("trackend",a.bind(this)),this._payload={delta:null,value:null,cumulate:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touchId:void 0},this._cumulate=null,this._value=null}function r(t){var e,i;void 0!==this.options.direction?(null===this._cumulate&&(this._cumulate=0),this._value=0,e=0,i=0):(null===this._cumulate&&(this._cumulate=[0,0]),this._value=[0,0],e=[0,0],i=[0,0]);var n=this._payload;n.delta=i,n.value=this._value,n.cumulate=this._cumulate,n.velocity=e,n.clientX=t.x,n.clientY=t.y,n.count=t.count,n.touchId=t.identifier,this._eventOutput.emit("start",n)}function s(t){var e,i,n=this.options.scale,r=t.history,s=r[r.length-1],a=r[r.length-2],u=a.timestamp,c=s.timestamp,h=n*(s.x-a.x),p=n*(s.y-a.y),f=Math.max(c-u,l),d=1/f,v=h*d,y=p*d;this.options.direction===o.DIRECTION.X?(i=h,e=v,this._value+=i,this._cumulate+=i):this.options.direction===o.DIRECTION.Y?(i=p,e=y,this._value+=i,this._cumulate+=i):(i=[h,p],e=[v,y],this._value[0]+=i[0],this._value[1]+=i[1],this._cumulate[0]+=i[0],this._cumulate[1]+=i[1]);var g=this._payload;g.delta=i,g.velocity=e,g.value=this._value,g.cumulate=this._cumulate,g.clientX=t.x,g.clientY=t.y,g.count=t.count,g.touchId=t.identifier,this._eventOutput.emit("update",g)}function a(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}var u=i(44),c=i(9),h=i(11),p=i(31),l=8;o.prototype=Object.create(h.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={direction:void 0,scale:1},o.DIRECTION={X:0,Y:1},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=c.setOptions(this,t),this.touchHistory={},this._isTouched=!1,this._eventInput=new h,this._eventOutput=new h,h.setInputHandler(this,this._eventInput),h.setOutputHandler(this,this._eventOutput),this._eventInput.on("touchstart",s.bind(this)),this._eventInput.on("touchmove",a.bind(this)),this._eventInput.on("touchend",u.bind(this)),this._eventInput.on("touchcancel",u.bind(this))}function r(t,e,i){return{x:t.clientX,y:t.clientY,identifier:t.identifier,timestamp:p(),count:e.touches.length,history:i}}function s(t){if(!(t.touches.length>this.options.limit)){this._isTouched=!0;for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=r(i,t,null);this._eventOutput.emit("trackstart",n),this.touchHistory[i.identifier]||this.track(n)}}}function a(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.touchHistory[i.identifier];if(n){var o=r(i,t,n);this.touchHistory[i.identifier].push(o),this._eventOutput.emit("trackmove",o)}}}function u(t){if(this._isTouched){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.touchHistory[i.identifier];if(n){var o=r(i,t,n);this._eventOutput.emit("trackend",o),delete this.touchHistory[i.identifier]}}this._isTouched=!1}}var c=i(31),h=i(9),p=Date.now;o.DEFAULT_OPTIONS={limit:1},o.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=a.setOptions(this,t),this._payload={delta:null,value:null,cumulate:null,velocity:null,clientX:void 0,clientY:void 0,offsetX:void 0,offsetY:void 0},this._eventInput=new s,this._eventOutput=new s,s.setInputHandler(this,this._eventInput),s.setOutputHandler(this,this._eventOutput),this._eventInput.on("wheel",r.bind(this)),this._value=void 0===this.options.direction?[0,0]:0,this._cumulate=void 0===this.options.direction?[0,0]:0,this._prevTime=void 0,this._inProgress=!1;var e=this;this._scrollEnd=c.debounce(function(){e._inProgress=!1,0!==e._payload.delta&&(e._payload.velocity=0),e._eventOutput.emit("end",e._payload)},100)}function r(t){if(t.preventDefault(),!this._inProgress)return this._value=void 0===this.options.direction?[0,0]:0,v=this._payload,v.value=this._value,v.cumulate=this._cumulate,v.clientX=t.clientX,v.clientY=t.clientY,v.offsetX=t.offsetX,v.offsetY=t.offsetY,this._eventOutput.emit("start",v),void(this._inProgress=!0);var e=l(),i=this._prevTime||e,n=-t.deltaX,r=-t.deltaY;n>p&&(n=p),r>p&&(r=p),-p>n&&(n=-p),-p>r&&(r=-p);var s=1/Math.max(e-i,h);this._prevTime=e;var a,u,c=n*s,f=r*s,d=this.options.scale;this.options.direction===o.DIRECTION.X?(u=d*n,a=d*c,this._value+=u,this._cumulate+=u):this.options.direction===o.DIRECTION.Y?(u=d*r,a=d*f,this._value+=u,this._cumulate+=u):(u=[d*n,d*r],a=[d*c,d*f],this._value[0]+=u[0],this._value[1]+=u[1],this._cumulate[0]+=u[0],this._cumulate[1]+=u[1]);var v=this._payload;v.delta=u,v.velocity=a,v.value=this._value,v.cumulate=this._cumulate,this._eventOutput.emit("update",v),this._scrollEnd()}var s=i(9),a=i(31),u=i(11),c=i(20),h=8,p=50;o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={direction:void 0,scale:1},o.DIRECTION={X:0,Y:1};var l=Date.now;n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this.options=s.setOptions(this,t),this._startDist=0,this._scaleFactor=1}var r=i(47),s=i(31);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={scale:1},o.prototype._startUpdate=function(t){this._startDist=r.calculateDistance(this.posA,this.posB);var e=r.calculateCenter(this.posA,this.posB);this._eventOutput.emit("start",{count:t.touches.length,touchIds:[this.touchAId,this.touchBId],distance:this._startDist,center:e})},o.prototype._moveUpdate=function(t){var e=this.options.scale,i=r.calculateDistance(this.posA,this.posB),n=r.calculateCenter(this.posA,this.posB),o=(i-this._startDist)/this._startDist,s=Math.max(1+e*o,0),a=(s-this._scaleFactor)/t;this._eventOutput.emit("update",{delta:o,scale:s,velocity:a,distance:i,center:n,touchIds:[this.touchAId,this.touchBId]}),this._scaleFactor=s},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(){this._eventInput=new r,this._eventOutput=new r,r.setInputHandler(this,this._eventInput),r.setOutputHandler(this,this._eventOutput),this.touchAEnabled=!1,this.touchAId=0,this.posA=null,this.timestampA=0,this.touchBEnabled=!1,this.touchBId=0,this.posB=null,this.timestampB=0,this._eventInput.on("touchstart",this.handleStart.bind(this)),this._eventInput.on("touchmove",this.handleMove.bind(this)),this._eventInput.on("touchend",this.handleEnd.bind(this)),this._eventInput.on("touchcancel",this.handleEnd.bind(this))}var r=i(9),s=i(11),a=Date.now;o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.calculateAngle=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.atan2(n,i)},o.calculateDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},o.calculateCenter=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]},o.prototype.handleStart=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];this.touchAEnabled?this.touchBEnabled||(this.touchBId=i.identifier,this.touchBEnabled=!0,this.posB=[i.pageX,i.pageY],this.timestampB=a(),this._startUpdate(t)):(this.touchAId=i.identifier,this.touchAEnabled=!0,this.posA=[i.pageX,i.pageY],this.timestampA=a())}},o.prototype.handleMove=function(t){if(this.touchAEnabled&&this.touchBEnabled){for(var e,i=this.timestampA,n=this.timestampB,o=0;o<t.changedTouches.length;o++){var r=t.changedTouches[o];r.identifier===this.touchAId?(this.posA=[r.pageX,r.pageY],this.timestampA=a(),e=this.timestampA-i):r.identifier===this.touchBId&&(this.posB=[r.pageX,r.pageY],this.timestampB=a(),e=this.timestampB-n)}e&&this._moveUpdate(e)}},o.prototype.handleEnd=function(t){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e];i.identifier!==this.touchAId&&i.identifier!==this.touchBId||(this.touchAEnabled&&this.touchBEnabled&&this._eventOutput.emit("end",{touches:[this.touchAId,this.touchBId],angle:this._angle}),this.touchAEnabled=!1,this.touchAId=0,this.touchBEnabled=!1,this.touchBId=0)}},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){r.call(this),this.options=s.setOptions(this,t),this._angle=0,this._previousAngle=0}var r=i(47),s=i(31);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={scale:1},o.prototype._startUpdate=function(t){this._previousAngle=r.calculateAngle(this.posA,this.posB);var e=r.calculateCenter(this.posA,this.posB);this._angle=0,this._eventOutput.emit("start",{count:t.touches.length,value:this._angle,center:e,touchIds:[this.touchAId,this.touchBId]})},o.prototype._moveUpdate=function(t){var e=this.options.scale,i=r.calculateAngle(this.posA,this.posB),n=r.calculateCenter(this.posA,this.posB),o=e*(i-this._previousAngle),s=o/t;this._angle+=o,this._eventOutput.emit("update",{delta:o,velocity:s,value:this._angle,center:n,touchIds:[this.touchAId,this.touchBId]}),this._previousAngle=i},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){
function o(t){r.call(this),this.options=s.setOptions(this,t),this._displacement=0,this._previousDistance=0}var r=i(47),s=i(31);o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={scale:1},o.prototype._startUpdate=function(t){var e=r.calculateCenter(this.posA,this.posB);this._previousDistance=r.calculateDistance(this.posA,this.posB),this._displacement=0,this._eventOutput.emit("start",{count:t.touches.length,touchIds:[this.touchAId,this.touchBId],value:this._previousDistance,center:e})},o.prototype._moveUpdate=function(t){var e=r.calculateDistance(this.posA,this.posB),i=r.calculateCenter(this.posA,this.posB),n=this.options.scale,o=n*(e-this._previousDistance),s=o/t;this._displacement+=o,this._eventOutput.emit("update",{delta:o,velocity:s,value:e,displacement:this._displacement,center:i,touchIds:[this.touchAId,this.touchBId]}),this._previousDistance=e},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={DrawerLayout:i(51),FlexibleLayout:i(54),GridLayout:i(55),SequentialLayout:i(56),Scrollview:i(57)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){var e=v.SIDE,i=v.DIRECTION;return t===e.LEFT||t===e.RIGHT?i.X:i.Y}function r(t){var e=v.SIDE;return t===e.LEFT||t===e.TOP?v.ORIENTATION.POSITIVE:v.ORIENTATION.NEGATIVE}function s(t){var e=t.key,i=t.value;"side"!==e&&(this.direction=o(i),this.orientation=r(i)),this.options.revealLength*=this.direction}var a=i(21),u=i(22),c=i(26),h=i(8),p=i(15),l=i(52),f=i(53),d=i(12),v={DIRECTION:{X:0,Y:1},SIDE:{LEFT:0,TOP:1,RIGHT:2,BOTTOM:3},ORIENTATION:{POSITIVE:1,NEGATIVE:-1}},y=c.extend({defaults:{side:v.SIDE.LEFT,revealLength:void 0,velocityThreshold:1/0,positionThreshold:0,transitionOpen:!0,transitionClose:!0},events:{change:s},initialize:function(t){this.direction=o(t.side),this.orientation=r(t.side),this.options.revealLength*=this.orientation,this.isOpen=!1,this.transitionStream=new u(0);var e=new p({start:function(){return this.transitionStream.halt(),0}.bind(this),update:function(e){var i=e.delta,n=i,o=t.revealLength,r=this.position.get(),s=r+i,a=0,u=0;return this.orientation===v.ORIENTATION.POSITIVE?u=o:a=o,(s>=u||a>=s)&&(n=s>u&&s>a&&r!==u?u-r:a>s&&r!==a?a-r:0),n}.bind(this),end:function(e){var i=e.velocity,n=this.orientation,o=this.position.get(),r=t.revealLength,s=n*r,a=t.positionThreshold||s/2,u=t.velocityThreshold;if(0===o)return this.isOpen=!1,!1;if(o===s)return this.isOpen=!0,!1;var c=o>=a&&(i>-u||i>u)||a>o&&i>u;c?(this.options.transitionOpen.velocity=i,this.open(this.options.transitionOpen,function(){this.options.transitionOpen.velocity=0}.bind(this))):(this.options.transitionClose.velocity=i,this.close(this.options.transitionClose,function(){this.options.transitionClose.velocity=0}.bind(this)))}.bind(this)});e.subscribe(this.input);var i=new l;i.subscribe(this.transitionStream),this.position=new f(0),this.position.subscribe(e),this.position.subscribe(i);var n=new d(function(t){return{value:t,progress:t/this.options.revealLength}}.bind(this));this.output.subscribe(n).subscribe(this.position)},addDrawer:function(t){void 0==this.options.revealLength&&(this.options.revealLength=t.getSize()[this.direction]),this.drawer=t;var e=new h({transform:a.behind});this.add(e).add(this.drawer)},addContent:function(t){var e=this.position.map(function(t){return this.direction===v.DIRECTION.X?a.translateX(t):a.translateY(t)}.bind(this)),i=new h({transform:e});this.add(i).add(t)},open:function(t,e){void 0===t&&(t=this.options.transitionOpen),this.setPosition(this.options.revealLength,t,e),this.isOpen||(this.isOpen=!0,this.emit("open"))},close:function(t,e){void 0===t&&(t=this.options.transitionClose),this.setPosition(0,t,e),this.isOpen&&(this.isOpen=!1,this.emit("close"))},toggle:function(t){this.isOpen?this.close(t):this.open(t)},setPosition:function(t,e,i){this.transitionStream.reset(this.position.get()),this.transitionStream.set(t,e,i)},reset:function(t){this.isOpen?this.open(t):this.close(t)}},v);n.exports=y}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){this.options=s.setOptions(this,t);var e=void 0,i=void 0;r.call(this,{update:function(){return i}}),this._eventInput.on("start",function(t){e=t instanceof Array?t.slice():t}),this._eventInput.on("update",function(t){var n=this.options.scale;if(e instanceof Array){i=[];for(var o=0;o<e.length;o++)i[o]=n*(t[o]-e[o]),e[o]=t[o]}else i=n*(t-e),e=t}.bind(this))}var r=i(15),s=i(31);o.DEFAULT_OPTIONS={scale:1},o.prototype=Object.create(r.prototype),o.prototype.constructor=o,n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t,e){this.options=s.setOptions(this,e),this.sum=void 0,void 0!==t&&this.set(t),a.call(this,{start:function(){return this.sum||0}.bind(this),update:function(){return this.sum}.bind(this),end:function(){return this.sum||0}.bind(this)}),this._eventInput.on("start",function(t){if(void 0===this.sum)if(t instanceof Array){this.sum=[];for(var e=0;e<t.length;e++)this.sum[e]=r(t[e],this.options.min,this.options.max)}else this.sum=r(t,this.options.min,this.options.max)}.bind(this)),this._eventInput.on("update",function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.sum[e]+=t[e],this.sum[e]=r(this.sum[e],this.options.min,this.options.max);else this.sum+=t,this.sum=r(this.sum,this.options.min,this.options.max)}.bind(this))}function r(t,e,i){return Math.min(Math.max(t,e),i)}var s=i(31),a=i(15),u=i(5),c=i(6);o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.DEFAULT_OPTIONS={min:-(1/0),max:1/0},o.prototype.set=function(t,e){if(this.sum=t,e!==!0){var i=this;u.push(function(){i.trigger("start",t),c.push(function(){i.trigger("end",t)})})}},o.prototype.get=function(){return this.sum},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var o=i(21),r=i(22),s=i(26),a=i(15),u=i(8),c=i(17),h={DIRECTION:{X:0,Y:1}},p=s.extend({defaults:{direction:h.DIRECTION.X,ratios:[]},initialize:function(t){var e=t.ratios instanceof r?t.ratios:new r(t.ratios);this.nodes=[];var i=a.lift(function(e,i){for(var n=t.direction,r=i[n],s=0,a=0;a<e.length;a++){var u=e[a],c=this.nodes[a];"number"!=typeof u?r-=c.getSize()[n]||0:s+=u}for(var p=0,l=[],f=[],a=0;a<e.length;a++){c=this.nodes[a],u=e[a];var d="number"==typeof u?r*u/s:c.getSize()[n],v=n==h.DIRECTION.X?o.translateX(p):o.translateY(p),y=n==h.DIRECTION.X?[d,void 0]:[void 0,d];f.push(y),l.push(v),p+=d}return{transforms:l,sizes:f}}.bind(this),[e,this.size]);this.transforms=i.pluck("transforms"),this.sizes=i.pluck("sizes")},addItems:function(t){this.nodes=t;for(var e=0;e<this.nodes.length;e++){var i=this.nodes[e],n=new u({transform:this.transforms.pluck(e)}),o=new c({size:this.sizes.pluck(e)});this.add(n).add(o).add(i)}}},h);n.exports=p}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t,e){for(var i in t)if(e<=parseInt(i))break;return t[i]}var r=i(21),s=i(26),a=i(15),u=i(8),c=i(17),h=i(22),p=s.extend({defaults:{itemsPerRow:[],gutter:0},events:{},initialize:function(t){var e=t.gutter instanceof h?t.gutter:new h(t.gutter);this.stream=a.lift(function(e,i){if(!e)return!1;for(var n=e[0],r=e[1],s=t.itemsPerRow instanceof Array?t.itemsPerRow:o(t.itemsPerRow,n),a=s.length,u=(r-(a-1)*i)/a,c=[],h=[],p=0,l=0;a>l;l++){for(var f=s[l],d=(n-(f-1)*i)/f,v=0,y=0;f>y;y++){var e=[d,u];c.push(e),h.push([v,p]),v+=d+i}p+=u+i}return{sizes:c,positions:h}},[this.size,e])},addItems:function(t){for(var e=this.stream.pluck("sizes"),i=this.stream.pluck("positions"),n=0;n<t.length;n++){var o=t[n],s=e.pluck(n),a=i.pluck(n),h=a.map(function(t){return r.translate(t)}),s=new c({size:s}),p=new u({transform:h});this.add(s).add(p).add(o)}}});n.exports=p}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var o=i(21),r=i(26),s=i(18),a=i(8),u={DIRECTION:{X:0,Y:1}},c=r.extend({defaults:{direction:u.DIRECTION.X,spacing:0},initialize:function(){},addItems:function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].size);var n=s.lift(function(){for(var t=arguments,e=this.options.direction,i=[],n=0,r=0;r<t.length;r++){var s=t[r],a=e===u.DIRECTION.X?o.translateX(n):o.translateY(n);i.push(a),n+=s[e]+this.options.spacing}return{transforms:i,length:n}}.bind(this),e),r=n.pluck("transforms"),c=n.pluck("length");this.output.subscribe(c);for(var i=0;i<t.length;i++){var h=t[i],p=r.pluck(i),l=new a({transform:p});this.add(l).add(h)}}},u);n.exports=c}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){function o(t){t!=this._previousIndex&&(this.emit("page",t),this._previousIndex=t)}function r(t,e){this.drag.halt(),this.spring.reset(t),this.options.edgeTransition.velocity=e,this.spring.set(0,this.options.edgeTransition)}function s(t){var e,i=this.options.pageChangeSpeed,n=this.items[this._currentIndex].getSize()[this.options.direction],o=this.itemOffset,r=this.itemOffset-n,s=this.itemOffset,a=n/2;e=0>t?s>a||-i>t?r:o:a>s||t>i?o:r,this.options.pageTransition.velocity=t,this.spring.halt(),this.spring.reset(-e),this.spring.set(0,this.options.pageTransition)}function a(t){this.drag.halt(),this.drag.reset(0),this.drag.set(0,{curve:"inertia",velocity:t,drag:this.options.drag})}var u=i(21),c=i(22),h=i(26),p=i(8),l=i(15),f=i(18),d=i(53),v=i(52),y=i(56),g=i(35),m=i(41),_=i(45),b=i(43);m.register({touch:b,scroll:_});var O={DIRECTION:{X:0,Y:1}},T={TOP:-1,BOTTOM:1,NONE:0},w=h.extend({defaults:{direction:O.DIRECTION.Y,drag:.3,paginated:!1,pageChangeSpeed:.5,startPosition:0,marginTop:0,marginBottom:0,clip:!0,pageTransition:{curve:"spring",period:100,damping:.8},edgeTransition:{curve:"spring",period:100,damping:1},edgeGrip:.5},initialize:function(t){this._currentIndex=0,this._previousIndex=0,this.itemOffset=0,this.items=[],this.velocity=0;var e=!1;this.overflow=0;var i=T.NONE,n=void 0!==window.ontouchstart;this.layout=new y({direction:t.direction});var h=new m(["touch","scroll"],{direction:t.direction}),_=new d(-t.startPosition);this.drag=new c(0),this.spring=new c(0);var b=new v,w=new v,I=h.pluck("delta");b.subscribe(this.drag),w.subscribe(this.spring),_.subscribe(I),_.subscribe(b),_.subscribe(w),h.on("start",function(){e=!0,this.drag.halt(),this.spring.halt()}.bind(this)),h.on("update",function(t){this.velocity=t.velocity}.bind(this)),h.on("end",function(t){switch(e=!1,i){case T.NONE:this.options.paginated?s.call(this,t.velocity):a.call(this,t.velocity);break;case T.TOP:r.call(this,this.overflow,t.velocity);break;case T.BOTTOM:r.call(this,this.overflow,t.velocity)}}.bind(this)),this.drag.on("update",function(){this.velocity=this.drag.getVelocity()}.bind(this)),this.spring.on("update",function(){this.velocity=this.spring.getVelocity()}.bind(this)),_.on("end",function(){this.spring.isActive()||o.call(this,this._currentIndex)}.bind(this));var x=f.lift(function(e,i){if(!e)return!1;var n=i[t.direction]-t.marginBottom-e;return n>=0?!1:n},[this.layout,this.size]);this.offset=l.lift(function(t,s){if(!s)return!1;if(this.spring.isActive())return Math.round(t);if(t>0){if(!n)return i=T.TOP,_.set(0,!0),o.call(this,this._currentIndex),0;this.overflow=t,i!==T.TOP&&(h.setOptions({scale:this.options.edgeGrip}),i=T.TOP,e||r.call(this,this.overflow,this.velocity))}else if(s>t){if(!n)return i=T.BOTTOM,_.set(s,!0),o.call(this,this._currentIndex),s;this.overflow=t-s,i!==T.BOTTOM&&(h.setOptions({scale:.5}),i=T.BOTTOM,e||r.call(this,this.overflow,this.velocity))}else t>s&&0>t&&i!==T.NONE&&(this.overflow=0,h.setOptions({scale:1}),i=T.NONE);return Math.round(t)}.bind(this),[_,x]);var E=new p({transform:this.offset.map(function(e){return e+=t.marginTop,t.direction==O.DIRECTION.Y?u.translateY(e):u.translateX(e)})});this.container=new g({properties:{overflow:"hidden"}}),h.subscribe(this.container),this.container.add(E).add(this.layout),this.add(this.container)},setPerspective:function(){g.prototype.setPerspective.apply(this.container,arguments)},getVelocity:function(){return this.velocity},goTo:function(t,e,i){e=e||this.options.pageTransition;var n=this.itemOffset;if(t>this._currentIndex&&t<this.items.length)for(var o=this._currentIndex;t>o;o++)n-=this.items[o].getSize()[this.options.direction];else if(t<this._currentIndex&&t>=0)for(var o=this._currentIndex;o>t;o--)n+=this.items[o].getSize()[this.options.direction];this.spring.halt(),this.spring.reset(0),this.spring.set(Math.ceil(n),e,i)},getCurrentIndex:function(){return this._currentIndex},addItems:function(t){this.layout.addItems(t),this.items=t;for(var e=[this.offset],i=0;i<t.length;i++)e.push(t[i].size);var n=0,o=l.lift(function(){if(void 0===arguments[0]||void 0===arguments[1])return!1;var e=arguments[0],i=this.options.direction,o=this._currentIndex,r=arguments[o+1];if(!r)return!1;var s=0,a=-e-n,u=r[i];return a>=u&&this._currentIndex!==t.length-1?(this._currentIndex++,s=0,n+=u):0>a&&0!==this._currentIndex?(this._currentIndex--,s=1,u=arguments[this._currentIndex+1][i],n-=u):s=a/u,this.itemOffset=a,{index:this._currentIndex,progress:s}}.bind(this),e);this.output.subscribe(o),o.on("start",function(){}),o.on("update",function(){}),o.on("end",function(){})}},O);n.exports=w}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={Accumulator:i(53),Differential:i(52),SimpleStream:i(11),Stream:i(15),Observable:i(16),SizeObservable:i(19)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={Tween:i(23),Spring:i(24),Inertia:i(25)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){n.exports={RequestAnimationFrame:i(61),ES5Shim:i(62)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,i){for(var n=0,o=["ms","moz","webkit","o"],r=0;r<o.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[o[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[r]+"CancelAnimationFrame"]||window[o[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),o=Math.max(0,16-(i-n)),r=window.setTimeout(function(){t(i+o)},o);return n=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o;!function(r,s){"use strict";n=s,o="function"==typeof n?n.call(e,i,e,t):n,!(void 0!==o&&(t.exports=o))}(this,function(){var t,e,i=Array,n=i.prototype,o=Object,r=o.prototype,s=Function,a=s.prototype,u=String,c=u.prototype,h=Number,p=h.prototype,l=n.slice,f=n.splice,d=n.push,v=n.unshift,y=n.concat,g=n.join,m=a.call,_=a.apply,b=Math.max,O=Math.min,T=r.toString,w="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,I=Function.prototype.toString,x=/^\s*class /,E=function(t){try{var e=I.call(t),i=e.replace(/\/\/.*\n/g,""),n=i.replace(/\/\*[.\s\S]*\*\//g,""),o=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(o)}catch(r){return!1}},S=function(t){try{return E(t)?!1:(I.call(t),!0)}catch(e){return!1}},D="[object Function]",A="[object GeneratorFunction]",t=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(w)return S(t);if(E(t))return!1;var e=T.call(t);return e===D||e===A},N=RegExp.prototype.exec,z=function(t){try{return N.call(t),!0}catch(e){return!1}},M="[object RegExp]";e=function(t){return"object"!=typeof t?!1:w?z(t):T.call(t)===M};var C,P=String.prototype.valueOf,j=function(t){try{return P.call(t),!0}catch(e){return!1}},k="[object String]";C=function(t){return"string"==typeof t?!0:"object"!=typeof t?!1:w?j(t):T.call(t)===k};var R=o.defineProperty&&function(){try{var t={};o.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(i){return!1}}(),F=function(t){var e;return e=R?function(t,e,i,n){!n&&e in t||o.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:i})}:function(t,e,i,n){!n&&e in t||(t[e]=i)},function(i,n,o){for(var r in n)t.call(n,r)&&e(i,r,n[r],o)}}(r.hasOwnProperty),L=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},U=h.isNaN||function(t){return t!==t},Y={ToInteger:function(t){var e=+t;return U(e)?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(e){var i,n,o;if(L(e))return e;if(n=e.valueOf,t(n)&&(i=n.call(e),L(i)))return i;if(o=e.toString,t(o)&&(i=o.call(e),L(i)))return i;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return o(t)},ToUint32:function(t){return t>>>0}},H=function(){};F(a,{bind:function(e){var i=this;if(!t(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var n,r=l.call(arguments,1),a=function(){if(this instanceof n){var t=_.call(i,this,y.call(r,l.call(arguments)));return o(t)===t?t:this}return _.call(i,e,y.call(r,l.call(arguments)))},u=b(0,i.length-r.length),c=[],h=0;u>h;h++)d.call(c,"$"+h);return n=s("binder","return function ("+g.call(c,",")+"){ return binder.apply(this, arguments); }")(a),i.prototype&&(H.prototype=i.prototype,n.prototype=new H,H.prototype=null),n}});var X=m.bind(r.hasOwnProperty),B=m.bind(r.toString),V=m.bind(l),G=_.bind(l),q=m.bind(c.slice),$=m.bind(c.split),Z=m.bind(c.indexOf),J=m.bind(d),W=m.bind(r.propertyIsEnumerable),K=m.bind(n.sort),Q=i.isArray||function(t){return"[object Array]"===B(t)},tt=1!==[].unshift(0);F(n,{unshift:function(){return v.apply(this,arguments),this.length}},tt),F(i,{isArray:Q});var et=o("a"),it="a"!==et[0]||!(0 in et),nt=function(t){var e=!0,i=!0,n=!1;if(t)try{t.call("foo",function(t,i,n){"object"!=typeof n&&(e=!1)}),t.call([1],function(){"use strict";i="string"==typeof this},"x")}catch(o){n=!0}return!!t&&!n&&e&&i};F(n,{forEach:function(e){var i,n=Y.ToObject(this),o=it&&C(this)?$(this,""):n,r=-1,s=Y.ToUint32(o.length);if(arguments.length>1&&(i=arguments[1]),!t(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++r<s;)r in o&&("undefined"==typeof i?e(o[r],r,n):e.call(i,o[r],r,n))}},!nt(n.forEach)),F(n,{map:function(e){var n,o=Y.ToObject(this),r=it&&C(this)?$(this,""):o,s=Y.ToUint32(r.length),a=i(s);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.map callback must be a function");for(var u=0;s>u;u++)u in r&&("undefined"==typeof n?a[u]=e(r[u],u,o):a[u]=e.call(n,r[u],u,o));return a}},!nt(n.map)),F(n,{filter:function(e){var i,n,o=Y.ToObject(this),r=it&&C(this)?$(this,""):o,s=Y.ToUint32(r.length),a=[];if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;s>u;u++)u in r&&(i=r[u],("undefined"==typeof n?e(i,u,o):e.call(n,i,u,o))&&J(a,i));return a}},!nt(n.filter)),F(n,{every:function(e){var i,n=Y.ToObject(this),o=it&&C(this)?$(this,""):n,r=Y.ToUint32(o.length);if(arguments.length>1&&(i=arguments[1]),!t(e))throw new TypeError("Array.prototype.every callback must be a function");for(var s=0;r>s;s++)if(s in o&&!("undefined"==typeof i?e(o[s],s,n):e.call(i,o[s],s,n)))return!1;return!0}},!nt(n.every)),F(n,{some:function(e){var i,n=Y.ToObject(this),o=it&&C(this)?$(this,""):n,r=Y.ToUint32(o.length);if(arguments.length>1&&(i=arguments[1]),!t(e))throw new TypeError("Array.prototype.some callback must be a function");for(var s=0;r>s;s++)if(s in o&&("undefined"==typeof i?e(o[s],s,n):e.call(i,o[s],s,n)))return!0;return!1}},!nt(n.some));var ot=!1;n.reduce&&(ot="object"==typeof n.reduce.call("es5",function(t,e,i,n){return n})),F(n,{reduce:function(e){var i=Y.ToObject(this),n=it&&C(this)?$(this,""):i,o=Y.ToUint32(n.length);if(!t(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s++];break}if(++s>=o)throw new TypeError("reduce of empty array with no initial value")}for(;o>s;s++)s in n&&(r=e(r,n[s],s,i));return r}},!ot);var rt=!1;n.reduceRight&&(rt="object"==typeof n.reduceRight.call("es5",function(t,e,i,n){return n})),F(n,{reduceRight:function(e){var i=Y.ToObject(this),n=it&&C(this)?$(this,""):i,o=Y.ToUint32(n.length);if(!t(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=o-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in n){r=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>s)return r;do s in n&&(r=e(r,n[s],s,i));while(s--);return r}},!rt);var st=n.indexOf&&-1!==[0,1].indexOf(1,2);F(n,{indexOf:function(t){var e=it&&C(this)?$(this,""):Y.ToObject(this),i=Y.ToUint32(e.length);if(0===i)return-1;var n=0;for(arguments.length>1&&(n=Y.ToInteger(arguments[1])),n=n>=0?n:b(0,i+n);i>n;n++)if(n in e&&e[n]===t)return n;return-1}},st);var at=n.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);F(n,{lastIndexOf:function(t){var e=it&&C(this)?$(this,""):Y.ToObject(this),i=Y.ToUint32(e.length);if(0===i)return-1;var n=i-1;for(arguments.length>1&&(n=O(n,Y.ToInteger(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}},at);var ut=function(){var t=[1,2],e=t.splice();return 2===t.length&&Q(e)&&0===e.length}();F(n,{splice:function(t,e){return 0===arguments.length?[]:f.apply(this,arguments)}},!ut);var ct=function(){var t={};return n.splice.call(t,0,0,1),1===t.length}();F(n,{splice:function(t,e){if(0===arguments.length)return[];var i=arguments;return this.length=b(Y.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&(i=V(arguments),i.length<2?J(i,this.length-t):i[1]=Y.ToInteger(e)),f.apply(this,i)}},!ct);var ht=function(){var t=new i(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),pt=function(){var t=256,e=[];return e[t]="a",e.splice(t+1,0,"b"),"a"===e[t]}();F(n,{splice:function(t,e){for(var i,n=Y.ToObject(this),o=[],r=Y.ToUint32(n.length),s=Y.ToInteger(t),a=0>s?b(r+s,0):O(s,r),c=O(b(Y.ToInteger(e),0),r-a),h=0;c>h;)i=u(a+h),X(n,i)&&(o[h]=n[i]),h+=1;var p,l=V(arguments,2),f=l.length;if(c>f){h=a;for(var d=r-c;d>h;)i=u(h+c),p=u(h+f),X(n,i)?n[p]=n[i]:delete n[p],h+=1;h=r;for(var v=r-c+f;h>v;)delete n[h-1],h-=1}else if(f>c)for(h=r-c;h>a;)i=u(h+c-1),p=u(h+f-1),X(n,i)?n[p]=n[i]:delete n[p],h-=1;h=a;for(var y=0;y<l.length;++y)n[h]=l[y],h+=1;return n.length=r-c+f,o}},!ht||!pt);var lt,ft=n.join;try{lt="1,2,3"!==Array.prototype.join.call("123",",")}catch(dt){lt=!0}lt&&F(n,{join:function(t){var e="undefined"==typeof t?",":t;return ft.call(C(this)?$(this,""):this,e)}},lt);var vt="1,2"!==[1,2].join(void 0);vt&&F(n,{join:function(t){var e="undefined"==typeof t?",":t;return ft.call(this,e)}},vt);var yt=function(t){for(var e=Y.ToObject(this),i=Y.ToUint32(e.length),n=0;n<arguments.length;)e[i+n]=arguments[n],n+=1;return e.length=i+n,i+n},gt=function(){var t={},e=Array.prototype.push.call(t,void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!X(t,0)}();F(n,{push:function(t){return Q(this)?d.apply(this,arguments):yt.apply(this,arguments)}},gt);var mt=function(){var t=[],e=t.push(void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!X(t,0)}();F(n,{push:yt},mt),F(n,{slice:function(t,e){var i=C(this)?$(this,""):this;return G(i,arguments)}},it);var _t=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(t){}return!1}(),bt=function(){try{return[1,2].sort(/a/),!1}catch(t){}return!0}(),Ot=function(){try{return[1,2].sort(void 0),!0}catch(t){}return!1}();F(n,{sort:function(e){if("undefined"==typeof e)return K(this);if(!t(e))throw new TypeError("Array.prototype.sort callback must be a function");return K(this,e)}},_t||!Ot||!bt);var Tt=!{toString:null}.propertyIsEnumerable("toString"),wt=function(){}.propertyIsEnumerable("prototype"),It=!X("x","0"),xt=function(t){var e=t.constructor;return e&&e.prototype===t},Et={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},St=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!Et["$"+t]&&X(window,t)&&null!==window[t]&&"object"==typeof window[t]&&xt(window[t])}catch(e){return!0}return!1}(),Dt=function(t){if("undefined"==typeof window||!St)return xt(t);try{return xt(t)}catch(e){return!1}},At=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Nt=At.length,zt=function(t){return"[object Arguments]"===B(t)},Mt=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!Q(e)&&t(e.callee)},Ct=zt(arguments)?zt:Mt;F(o,{keys:function(e){var i=t(e),n=Ct(e),o=null!==e&&"object"==typeof e,r=o&&C(e);if(!o&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var s=[],a=wt&&i;if(r&&It||n)for(var c=0;c<e.length;++c)J(s,u(c));if(!n)for(var h in e)a&&"prototype"===h||!X(e,h)||J(s,u(h));if(Tt)for(var p=Dt(e),l=0;Nt>l;l++){var f=At[l];p&&"constructor"===f||!X(e,f)||J(s,f)}return s}});var Pt=o.keys&&function(){return 2===o.keys(arguments).length}(1,2),jt=o.keys&&function(){var t=o.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),kt=o.keys;F(o,{keys:function(t){return kt(Ct(t)?V(t):t)}},!Pt||jt);var Rt,Ft,Lt=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Ut=new Date(-0x55d318d56a724),Yt=new Date(14496624e5),Ht="Mon, 01 Jan -45875 11:59:59 GMT"!==Ut.toUTCString(),Xt=Ut.getTimezoneOffset();-720>Xt?(Rt="Tue Jan 02 -45875"!==Ut.toDateString(),Ft=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Yt.toString())):(Rt="Mon Jan 01 -45875"!==Ut.toDateString(),Ft=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Yt.toString()));var Bt=m.bind(Date.prototype.getFullYear),Vt=m.bind(Date.prototype.getMonth),Gt=m.bind(Date.prototype.getDate),qt=m.bind(Date.prototype.getUTCFullYear),$t=m.bind(Date.prototype.getUTCMonth),Zt=m.bind(Date.prototype.getUTCDate),Jt=m.bind(Date.prototype.getUTCDay),Wt=m.bind(Date.prototype.getUTCHours),Kt=m.bind(Date.prototype.getUTCMinutes),Qt=m.bind(Date.prototype.getUTCSeconds),te=m.bind(Date.prototype.getUTCMilliseconds),ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ne=function(t,e){return Gt(new Date(e,t,0))};F(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Bt(this);return 0>t&&Vt(this)>11?t+1:t},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Bt(this),e=Vt(this);return 0>t&&e>11?0:e},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Bt(this),e=Vt(this),i=Gt(this);if(0>t&&e>11){if(12===e)return i;var n=ne(0,t+1);return n-i+1}return i},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=qt(this);return 0>t&&$t(this)>11?t+1:t},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=qt(this),e=$t(this);return 0>t&&e>11?0:e},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=qt(this),e=$t(this),i=Zt(this);if(0>t&&e>11){if(12===e)return i;var n=ne(0,t+1);return n-i+1}return i}},Lt),F(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Jt(this),e=Zt(this),i=$t(this),n=qt(this),o=Wt(this),r=Kt(this),s=Qt(this);return ee[t]+", "+(10>e?"0"+e:e)+" "+ie[i]+" "+n+" "+(10>o?"0"+o:o)+":"+(10>r?"0"+r:r)+":"+(10>s?"0"+s:s)+" GMT"}},Lt||Ht),F(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),i=this.getMonth(),n=this.getFullYear();return ee[t]+" "+ie[i]+" "+(10>e?"0"+e:e)+" "+n}},Lt||Rt),(Lt||Ft)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),i=this.getMonth(),n=this.getFullYear(),o=this.getHours(),r=this.getMinutes(),s=this.getSeconds(),a=this.getTimezoneOffset(),u=Math.floor(Math.abs(a)/60),c=Math.floor(Math.abs(a)%60);return ee[t]+" "+ie[i]+" "+(10>e?"0"+e:e)+" "+n+" "+(10>o?"0"+o:o)+":"+(10>r?"0"+r:r)+":"+(10>s?"0"+s:s)+" GMT"+(a>0?"-":"+")+(10>u?"0"+u:u)+(10>c?"0"+c:c)},R&&o.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var oe=-621987552e5,re="-000001",se=Date.prototype.toISOString&&-1===new Date(oe).toISOString().indexOf(re),ae=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),ue=m.bind(Date.prototype.getTime);F(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(ue(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=qt(this),e=$t(this);t+=Math.floor(e/12),e=(e%12+12)%12;var i=[e+1,Zt(this),Wt(this),Kt(this),Qt(this)];t=(0>t?"-":t>9999?"+":"")+q("00000"+Math.abs(t),t>=0&&9999>=t?-4:-6);for(var n=0;n<i.length;++n)i[n]=q("00"+i[n],-2);return t+"-"+V(i,0,2).join("-")+"T"+V(i,2).join(":")+"."+q("000"+te(this),-3)+"Z"}},se||ae);var ce=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(oe).toJSON().indexOf(re)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}();ce||(Date.prototype.toJSON=function(e){var i=o(this),n=Y.ToPrimitive(i);if("number"==typeof n&&!isFinite(n))return null;var r=i.toISOString;if(!t(r))throw new TypeError("toISOString property is not callable");return r.call(i)});var he=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),pe=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),le=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(le||pe||!he){var fe=Math.pow(2,31)-1,de=U(new Date(1970,0,1,0,0,0,fe+1).getTime());Date=function(t){var e=function(i,n,o,r,s,a,c){var h,p=arguments.length;if(this instanceof t){var l=a,f=c;if(de&&p>=7&&c>fe){var d=Math.floor(c/fe)*fe,v=Math.floor(d/1e3);l+=v,f-=1e3*v}h=1===p&&u(i)===i?new t(e.parse(i)):p>=7?new t(i,n,o,r,s,l,f):p>=6?new t(i,n,o,r,s,l):p>=5?new t(i,n,o,r,s):p>=4?new t(i,n,o,r):p>=3?new t(i,n,o):p>=2?new t(i,n):p>=1?new t(i instanceof t?+i:i):new t}else h=t.apply(this,arguments);return L(h)||F(h,{constructor:e},!0),h},i=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),n=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(t,e){var i=e>1?1:0;return n[e]+Math.floor((t-1969+i)/4)-Math.floor((t-1901+i)/100)+Math.floor((t-1601+i)/400)+365*(t-1970)},r=function(e){var i=0,n=e;if(de&&n>fe){var o=Math.floor(n/fe)*fe,r=Math.floor(o/1e3);i+=r,n-=1e3*r}return h(new t(1970,0,1,0,0,i,n))};for(var s in t)X(t,s)&&(e[s]=t[s]);F(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,F(e.prototype,{constructor:e},!0);var a=function(e){var n=i.exec(e);if(n){var s,a=h(n[1]),u=h(n[2]||1)-1,c=h(n[3]||1)-1,p=h(n[4]||0),l=h(n[5]||0),f=h(n[6]||0),d=Math.floor(1e3*h(n[7]||0)),v=Boolean(n[4]&&!n[8]),y="-"===n[9]?1:-1,g=h(n[10]||0),m=h(n[11]||0),_=l>0||f>0||d>0;return(_?24:25)>p&&60>l&&60>f&&1e3>d&&u>-1&&12>u&&24>g&&60>m&&c>-1&&c<o(a,u+1)-o(a,u)&&(s=60*(24*(o(a,u)+c)+p+g*y),s=1e3*(60*(s+l+m*y)+f)+d,v&&(s=r(s)),s>=-864e13&&864e13>=s)?s:NaN}return t.parse.apply(this,arguments)};return F(e,{parse:a}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ve=p.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),ye={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var i=-1,n=e;++i<ye.size;)n+=t*ye.data[i],ye.data[i]=n%ye.base,n=Math.floor(n/ye.base)},divide:function(t){for(var e=ye.size,i=0;--e>=0;)i+=ye.data[e],ye.data[e]=Math.floor(i/t),
i=i%t*ye.base},numToString:function(){for(var t=ye.size,e="";--t>=0;)if(""!==e||0===t||0!==ye.data[t]){var i=u(ye.data[t]);""===e?e=i:e+=q("0000000",0,7-i.length)+i}return e},pow:function ke(t,e,i){return 0===e?i:e%2===1?ke(t,e-1,i*t):ke(t*t,e/2,i)},log:function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}},ge=function(t){var e,i,n,o,r,s,a,c;if(e=h(t),e=U(e)?0:Math.floor(e),0>e||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(i=h(this),U(i))return"NaN";if(-1e21>=i||i>=1e21)return u(i);if(n="",0>i&&(n="-",i=-i),o="0",i>1e-21)if(r=ye.log(i*ye.pow(2,69,1))-69,s=0>r?i*ye.pow(2,-r,1):i/ye.pow(2,r,1),s*=4503599627370496,r=52-r,r>0){for(ye.multiply(0,s),a=e;a>=7;)ye.multiply(1e7,0),a-=7;for(ye.multiply(ye.pow(10,a,1),0),a=r-1;a>=23;)ye.divide(1<<23),a-=23;ye.divide(1<<a),ye.multiply(1,1),ye.divide(2),o=ye.numToString()}else ye.multiply(0,s),ye.multiply(1<<-r,0),o=ye.numToString()+q("0.00000000000000000000",2,2+e);return e>0?(c=o.length,o=e>=c?n+q("0.0000000000000000000",0,e-c+2)+o:n+q(o,0,c-e)+"."+q(o,c-e)):o=n+o,o};F(p,{toFixed:ge},ve);var me=function(){try{return"1"===1..toPrecision(void 0)}catch(t){return!0}}(),_e=p.toPrecision;F(p,{toPrecision:function(t){return"undefined"==typeof t?_e.call(this):_e.call(this,t)}},me),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t="undefined"==typeof/()??/.exec("")[1],i=Math.pow(2,32)-1;c.split=function(n,o){var r=String(this);if("undefined"==typeof n&&0===o)return[];if(!e(n))return $(this,n,o);var s,a,u,c,h=[],p=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),l=0,f=new RegExp(n.source,p+"g");t||(s=new RegExp("^"+f.source+"$(?!\\s)",p));var v="undefined"==typeof o?i:Y.ToUint32(o);for(a=f.exec(r);a&&(u=a.index+a[0].length,!(u>l&&(J(h,q(r,l,a.index)),!t&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(a[t]=void 0)}),a.length>1&&a.index<r.length&&d.apply(h,V(a,1)),c=a[0].length,l=u,h.length>=v)));)f.lastIndex===a.index&&f.lastIndex++,a=f.exec(r);return l===r.length?!c&&f.test("")||J(h,""):J(h,q(r,l)),h.length>v?V(h,0,v):h}}():"0".split(void 0,0).length&&(c.split=function(t,e){return"undefined"==typeof t&&0===e?[]:$(this,t,e)});var be=c.replace,Oe=function(){var t=[];return"x".replace(/x(.)?/g,function(e,i){J(t,i)}),1===t.length&&"undefined"==typeof t[0]}();Oe||(c.replace=function(i,n){var o=t(n),r=e(i)&&/\)[*?]/.test(i.source);if(o&&r){var s=function(t){var e=arguments.length,o=i.lastIndex;i.lastIndex=0;var r=i.exec(t)||[];return i.lastIndex=o,J(r,arguments[e-2],arguments[e-1]),n.apply(this,r)};return be.call(this,i,s)}return be.call(this,i,n)});var Te=c.substr,we="".substr&&"b"!=="0b".substr(-1);F(c,{substr:function(t,e){var i=t;return 0>t&&(i=b(this.length+t,0)),Te.call(this,i,e)}},we);var Ie="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff",xe="​",Ee="["+Ie+"]",Se=new RegExp("^"+Ee+Ee+"*"),De=new RegExp(Ee+Ee+"*$"),Ae=c.trim&&(Ie.trim()||!xe.trim());F(c,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return u(this).replace(Se,"").replace(De,"")}},Ae);var Ne=m.bind(String.prototype.trim),ze=c.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);F(c,{lastIndexOf:function(t){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=u(this),i=u(t),n=arguments.length>1?h(arguments[1]):NaN,o=U(n)?1/0:Y.ToInteger(n),r=O(b(o,0),e.length),s=i.length,a=r+s;a>0;){a=b(0,a-s);var c=Z(q(e,a,r+s),i);if(-1!==c)return a+c}return-1}},ze);var Me=c.lastIndexOf;if(F(c,{lastIndexOf:function(t){return Me.apply(this,arguments)}},1!==c.lastIndexOf.length),8===parseInt(Ie+"08")&&22===parseInt(Ie+"0x16")||(parseInt=function(t){var e=/^[\-+]?0[xX]/;return function(i,n){var o=Ne(i),r=h(n)||(e.test(o)?16:10);return t(o,r)}}(parseInt)),1/parseFloat("-0")!==-(1/0)&&(parseFloat=function(t){return function(e){var i=Ne(e),n=t(i);return 0===n&&"-"===q(i,0,1)?-0:n}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var Ce=function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;"undefined"==typeof t?t="Error":"string"!=typeof t&&(t=u(t));var e=this.message;return"undefined"==typeof e?e="":"string"!=typeof e&&(e=u(e)),t?e?t+": "+e:t:e};Error.prototype.toString=Ce}if(R){var Pe=function(t,e){if(W(t,e)){var i=Object.getOwnPropertyDescriptor(t,e);i.enumerable=!1,Object.defineProperty(t,e,i)}};Pe(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Pe(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var je=function(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=je}})}])});